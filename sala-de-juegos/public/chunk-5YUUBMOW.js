import{a as C}from"./chunk-NTEOFLDB.js";import{a as k}from"./chunk-6PXDWWVM.js";import{a as _}from"./chunk-3K5F4FNC.js";import{k as M,l as v}from"./chunk-EONISGLO.js";import"./chunk-5YNXMIIZ.js";import"./chunk-E4ERW3Q5.js";import{a as y,b as w}from"./chunk-G24662RJ.js";import{$a as b,Eb as s,Hc as h,Pa as l,Sb as e,Tb as d,_ as p,na as c,sb as f,tb as t,ub as o}from"./chunk-TXKU6S6B.js";import{g as P,j as x}from"./chunk-4ZZIO3ZI.js";var m=P(k());function u(){return Math.floor(Math.random()*13)+1}var O=class g{results=p(C);auth=p(_);partidaIniciada=c(!1);cartaActual=c(u());puntaje=c(0);seleccionarOpcion(r){let n=u(),a=r===">"&&n>this.cartaActual()||r==="<"&&n<this.cartaActual();this.puntaje.update(i=>a?i+1:Math.max(0,i-0)),this.cartaActual.set(n),this.partidaIniciada.set(!0)}reiniciarJuego(){this.puntaje.set(0),this.cartaActual.set(u()),this.partidaIniciada.set(!1)}guardarJuego(){return x(this,null,function*(){if(!this.partidaIniciada())return;let r=yield this.auth.getUsuarioActual();if(r)try{yield this.results.guardarResultado({ID_USUARIO:r.id,JUEGO:"Mayor/Menor",PUNTAJE:this.puntaje(),TIEMPO_PARTIDA:0,GANO:!0}),m.default.fire({icon:"success",title:"\xA1Listo!",text:"Sus resultados han sido guardados con \xE9xito.",customClass:{popup:"swal-cold-popup",title:"swal-cold-title",confirmButton:"swal-cold-btn"},buttonsStyling:!1})}catch{m.default.fire({icon:"error",title:"Error al guardar los resultados",text:"Por favor, intente nuevamente.",customClass:{popup:"swal-cold-popup",title:"swal-cold-title",confirmButton:"swal-cold-btn"},buttonsStyling:!1})}})}static \u0275fac=function(n){return new(n||g)};static \u0275cmp=b({type:g,selectors:[["ng-component"]],decls:27,vars:3,consts:[["appearance","outlined",1,"mayor-menor-card","split","mayor-menor-card-shadow-m","mayor-menor-card--hover"],[1,"mayor-menor-div"],[1,"mayor-menor-layout"],[1,"panel","panel-left"],[1,"estado"],[1,"carta-actual"],[1,"carta-inner"],[1,"carta-num"],[1,"controles"],["mat-raised-button","",1,"btn-mayor",3,"click"],["mat-raised-button","",1,"btn-menor",3,"click"],[1,"panel","panel-right"],[1,"puntaje"],[1,"acciones"],["mat-flat-button","",1,"reiniciar-button",3,"click"],["mat-raised-button","",1,"guardar-resultados-button",3,"click","disabled"]],template:function(n,a){n&1&&(t(0,"mat-card",0)(1,"div",1)(2,"h1"),e(3,"Mayor / Menor"),o(),t(4,"div",2)(5,"div",3)(6,"div",4),e(7,"Carta actual"),o(),t(8,"div",5)(9,"div",6)(10,"span",7),e(11),o()()(),t(12,"div",8)(13,"button",9),s("click",function(){return a.seleccionarOpcion(">")}),e(14,"Mayor"),o(),t(15,"button",10),s("click",function(){return a.seleccionarOpcion("<")}),e(16,"Menor"),o()()(),t(17,"div",11)(18,"div",12),e(19,"Puntaje: "),t(20,"b"),e(21),o()(),t(22,"div",13)(23,"button",14),s("click",function(){return a.reiniciarJuego()}),e(24,"Reiniciar"),o(),t(25,"button",15),s("click",function(){return a.guardarJuego()}),e(26,"Guardar Resultado"),o()()()()()()),n&2&&(l(11),d(a.cartaActual()),l(10),d(a.puntaje()),l(4),f("disabled",!a.partidaIniciada()))},dependencies:[h,w,y,v,M],styles:["[_nghost-%COMP%]{align-self:start;justify-self:center;width:100%}.mayor-menor-card[_ngcontent-%COMP%]{height:460px!important;width:min(96vw,1000px)!important;margin:0 auto;box-sizing:border-box;background:#101424db;border:1px solid rgba(130,160,255,.15);transition:box-shadow .2s ease,transform .2s ease}.mayor-menor-card.split[_ngcontent-%COMP%]{width:min(96vw,1000px);margin:0 auto;padding:0;overflow:hidden;box-sizing:border-box;border-radius:20px}.mayor-menor-card--hover[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 16px 40px #0000006b,0 6px 18px #00000047,0 0 0 1px #00000038}.mayor-menor-div[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;padding:28px;text-align:center}.mayor-menor-layout[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:24px;align-items:start;width:100%}.panel[_ngcontent-%COMP%]{display:grid;justify-items:center;gap:14px}.panel-right[_ngcontent-%COMP%]{align-content:start;justify-items:center;text-align:center;gap:18px}.panel-right[_ngcontent-%COMP%]   .puntaje[_ngcontent-%COMP%]{font-size:20px;font-weight:600}h1[_ngcontent-%COMP%]{margin:0 0 8px;color:var(--color-secondary)}.estado[_ngcontent-%COMP%]{font-size:18px;opacity:.9}.carta-actual[_ngcontent-%COMP%]{display:grid;place-items:center;width:180px;height:240px;border-radius:18px;background:#101424a6;border:1px solid rgba(130,160,255,.18);box-shadow:0 12px 24px #00000042,0 0 0 1px #0000001f}.carta-inner[_ngcontent-%COMP%]{width:92%;height:88%;border-radius:14px;display:grid;place-items:center;background:radial-gradient(120px 100px at 50% 30%,#a89eff38,#6032712e 60%,#10142400);border:1px solid rgba(255,255,255,.12)}.carta-num[_ngcontent-%COMP%]{font-weight:800;font-size:clamp(46px,8vw,64px);color:var(--color-light-violet);text-shadow:0 4px 18px rgba(168,158,255,.32)}.controles[_ngcontent-%COMP%]{display:flex;gap:12px;justify-content:center}.btn-mayor[_ngcontent-%COMP%], .btn-menor[_ngcontent-%COMP%]{min-width:140px;font-weight:800;letter-spacing:.2px;color:var(--texto-secundario)!important;border-radius:999px}.btn-mayor[_ngcontent-%COMP%]{background:var(--color-tertiary)!important;box-shadow:0 6px 14px #ffb82938;transition:box-shadow .2s ease,transform .15s ease,filter .2s ease}.btn-mayor[_ngcontent-%COMP%]:hover, .btn-mayor[_ngcontent-%COMP%]:focus-visible{box-shadow:0 0 0 3px #ffb82947,0 10px 26px #ffb82952;filter:brightness(1.04);transform:translateY(-1px);outline:none}.btn-mayor[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 0 0 2px #ffb8293d,0 6px 18px #ffb82947}.btn-menor[_ngcontent-%COMP%]{background:var(--color-light-violet)!important;box-shadow:0 6px 14px #a89eff38;transition:box-shadow .2s ease,transform .15s ease,filter .2s ease}.btn-menor[_ngcontent-%COMP%]:hover, .btn-menor[_ngcontent-%COMP%]:focus-visible{box-shadow:0 0 0 3px #a89eff47,0 10px 26px #a89eff52;filter:brightness(1.04);transform:translateY(-1px);outline:none}.btn-menor[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 0 0 2px #a89eff3d,0 6px 18px #a89eff47}.puntaje[_ngcontent-%COMP%]{margin-top:56px;font-size:18px;align-items:center}.acciones[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-top:8px;gap:12px}.acciones[_ngcontent-%COMP%]   .reiniciar-button[_ngcontent-%COMP%], .acciones[_ngcontent-%COMP%]   .guardar-resultados-button[_ngcontent-%COMP%]{width:220px;margin-top:12px;max-width:100%}.reiniciar-button[_ngcontent-%COMP%]{color:var(--texto-principal)!important;background:var(--color-primary)!important;box-shadow:0 6px 14px #007daf33;transition:box-shadow .2s ease,transform .15s ease,filter .2s ease}.reiniciar-button[_ngcontent-%COMP%]:hover, .reiniciar-button[_ngcontent-%COMP%]:focus-visible{box-shadow:0 0 0 3px #007daf47,0 10px 26px #007daf52;filter:brightness(1.04);transform:translateY(-1px);outline:none}.reiniciar-button[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 0 0 2px #007daf40,0 6px 18px #007daf47}.guardar-resultados-button[_ngcontent-%COMP%]{color:var(--color-white)!important;background-color:var(--color-secondary)!important;box-shadow:0 6px 14px rgba(var(--color-pink-rgb)/.2);transition:box-shadow .2s ease,transform .15s ease,filter .2s ease;--border-radius: 9999px}.guardar-resultados-button[_ngcontent-%COMP%]:hover, .guardar-resultados-button[_ngcontent-%COMP%]:focus-visible{box-shadow:0 0 0 3px rgba(var(--color-pink-rgb)/.28),0 10px 26px rgba(var(--color-pink-rgb)/.32);filter:brightness(1.04);transform:translateY(-1px);outline:none}.guardar-resultados-button[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 0 0 2px rgba(var(--color-pink-rgb)/.22),0 6px 18px rgba(var(--color-pink-rgb)/.28)}"]})};export{O as MayorMenor};
