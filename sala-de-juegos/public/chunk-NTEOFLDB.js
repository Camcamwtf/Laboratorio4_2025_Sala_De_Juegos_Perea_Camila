import{a as u,b as s}from"./chunk-5YNXMIIZ.js";import{V as n}from"./chunk-TXKU6S6B.js";import{j as e}from"./chunk-4ZZIO3ZI.js";var A=class o{supabase;constructor(){this.supabase=u(s.supabase.url,s.supabase.anonKey)}guardarResultado(a){return e(this,null,function*(){let{error:r}=yield this.supabase.from("RESULTADOS").insert(a);if(r)throw r})}listarPorUsuario(a,r){return e(this,null,function*(){let t=this.supabase.from("RESULTADOS").select("*").eq("ID_USUARIO",a).order("CREATED_AT",{ascending:!1});r&&(t=t.eq("JUEGO",r));let{data:c,error:i}=yield t;if(i)throw i;return c??[]})}listarTodosConUsuario(){return e(this,null,function*(){let{data:a,error:r}=yield this.supabase.from("RESULTADOS").select("*, USUARIOS(EMAIL)").order("CREATED_AT",{ascending:!1});if(r)throw r;return a??[]})}static \u0275fac=function(r){return new(r||o)};static \u0275prov=n({token:o,factory:o.\u0275fac,providedIn:"root"})};export{A as a};
