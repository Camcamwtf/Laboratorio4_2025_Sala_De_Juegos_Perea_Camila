import{b as Vu}from"./chunk-KKQE5UGW.js";import{a as Du,b as Nu}from"./chunk-BKROMZOD.js";import{a as Au,b as gt,c as bu,d as Su,e as Pu}from"./chunk-UW44YGR2.js";import{a as wu,b as Tu,d as Iu}from"./chunk-L645W6BM.js";import{a as Kf}from"./chunk-6PXDWWVM.js";import{a as _t}from"./chunk-3K5F4FNC.js";import{k as Cu,l as ku}from"./chunk-EONISGLO.js";import{b as Ou}from"./chunk-5YNXMIIZ.js";import"./chunk-E4ERW3Q5.js";import{$ as an,$a as Fr,A as rn,Ab as au,Cb as cu,Dc as yu,Eb as uu,F as mt,Fb as Cs,Fc as vu,Gb as lu,Hb as ks,Hc as Eu,Ib as hu,Kb as du,Lb as fu,Mc as Ru,P as Vr,Pa as bs,Qb as pu,Rb as mu,Sa as ru,Sb as Re,T as j,V as sn,W as Is,Xa as iu,Y as on,Yb as Ds,Z as xr,Zb as Ns,_ as Z,ab as Ss,ba as Jc,bb as su,c as vs,ca as Mr,da as Xc,db as Ps,ea as Zc,gb as Pe,gd as Vs,h as Hc,ha as cn,i as Qc,ia as Lr,ic as gu,jc as _u,k as Es,kc as Os,l as ws,m as Ts,pa as eu,qa as Se,s as nn,sb as Rs,t as Yc,tb as _e,ua as tu,ub as ye,vb as Ur,ya as nu,za as As,zb as ou}from"./chunk-TXKU6S6B.js";import{a as tn,b as Wc,c as Gc,g as zf,i as pt,j as T}from"./chunk-4ZZIO3ZI.js";var Wf=["*",[["mat-toolbar-row"]]],Gf=["*","mat-toolbar-row"],Hf=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=su({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return n})(),xu=(()=>{class n{_elementRef=Z(tu);_platform=Z(Ru);_document=Z(Lr);color;_toolbarRows;constructor(){}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Fr({type:n,selectors:[["mat-toolbar"]],contentQueries:function(r,s,o){if(r&1&&hu(o,Hf,5),r&2){let c;du(c=fu())&&(s._toolbarRows=c)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(r,s){r&2&&(mu(s.color?"mat-"+s.color:""),pu("mat-toolbar-multiple-rows",s._toolbarRows.length>0)("mat-toolbar-single-row",s._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],ngContentSelectors:Gf,decls:2,vars:0,template:function(r,s){r&1&&(lu(Wf),ks(0),ks(1,1))},styles:[`.mat-toolbar{background:var(--mat-toolbar-container-background-color, var(--mat-sys-surface));color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font, var(--mat-sys-title-large-font));font-size:var(--mat-toolbar-title-text-size, var(--mat-sys-title-large-size));line-height:var(--mat-toolbar-title-text-line-height, var(--mat-sys-title-large-line-height));font-weight:var(--mat-toolbar-title-text-weight, var(--mat-sys-title-large-weight));letter-spacing:var(--mat-toolbar-title-text-tracking, var(--mat-sys-title-large-tracking));margin:0}@media(forced-colors: active){.mat-toolbar{outline:solid 1px}}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mat-button-text-label-text-color: var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface));--mat-button-outlined-label-text-color: var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height, 56px)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height, 56px)}}
`],encapsulation:2,changeDetection:0})}return n})();var Mu=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ss({type:n});static \u0275inj=Is({imports:[Vs,Vs]})}return n})();function Yf(n,e){n&1&&(_e(0,"a",15),Re(1,"Encuestas"),ye())}function Jf(n,e){if(n&1){let t=cu();ou(0),_e(1,"a",6),Re(2,"Home"),ye(),_e(3,"a",7),Re(4,"Qui\xE9n Soy"),ye(),_e(5,"a",8),Re(6,"Ahorcado"),ye(),_e(7,"a",9),Re(8,"Mayor/Menor"),ye(),_e(9,"a",10),Re(10,"Preguntados"),ye(),_e(11,"a",11),Re(12,"Mi Juego"),ye(),_e(13,"a",12),Re(14,"Estad\xEDsticas"),ye(),Ps(15,Yf,2,0,"a",13),Ds(16,"async"),_e(17,"button",14),uu("click",function(){Xc(t);let s=Cs();return Zc(s.logout())}),_e(18,"mat-icon"),Re(19,"logout"),ye(),Re(20," Salir"),ye(),au()}if(n&2){let t=Cs();bs(15),Rs("ngIf",Ns(16,1,t.auth.esAdmin$))}}var qr=class n{auth=Z(_t);router=Z(gt);logout(){this.auth.logout().finally(()=>{this.router.navigateByUrl("/login")})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Fr({type:n,selectors:[["app-root"]],decls:9,vars:3,consts:[[1,"toolbar"],["src","assets/icon-corazon.png","alt","Mi logo",1,"app-logo"],[1,"app-titulo"],[1,"spacer"],[4,"ngIf"],[1,"main"],["mat-button","","routerLink","/home",1,"opciones-toolbar"],["mat-button","","routerLink","/quien-soy",1,"opciones-toolbar"],["mat-button","","routerLink","/ahorcado",1,"opciones-toolbar"],["mat-button","","routerLink","/mayor-menor",1,"opciones-toolbar"],["mat-button","","routerLink","/preguntados",1,"opciones-toolbar"],["mat-button","","routerLink","/arkanoid",1,"opciones-toolbar"],["mat-button","","routerLink","/estadisticas",1,"opciones-toolbar"],["mat-button","","class","opciones-toolbar","routerLink","/encuestas",4,"ngIf"],["mat-button","",1,"opciones-toolbar",3,"click"],["mat-button","","routerLink","/encuestas",1,"opciones-toolbar"]],template:function(t,r){t&1&&(_e(0,"mat-toolbar",0),Ur(1,"img",1),_e(2,"span",2),Re(3,"Sala de Juegos"),ye(),Ur(4,"span",3),Ps(5,Jf,21,3,"ng-container",4),Ds(6,"async"),ye(),_e(7,"div",5),Ur(8,"router-outlet"),ye()),t&2&&(bs(5),Rs("ngIf",Ns(6,1,r.auth.user$)))},dependencies:[Eu,yu,bu,Au,Mu,xu,ku,Cu,Nu,Du,vu],styles:[".app-logo[_ngcontent-%COMP%]{height:44px!important;width:44px!important;margin-right:12px;margin-left:12px;object-fit:cover;display:inline-block}.app-titulo[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:400;color:var(--texto-principal)}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.opciones-toolbar[_ngcontent-%COMP%]{font-weight:700;margin-right:12px;background-color:transparent;color:var(--texto-principal)!important}mat-toolbar.toolbar[_ngcontent-%COMP%]{position:sticky;top:0;z-index:100;background:linear-gradient(90deg,var(--color-violet),var(--color-pink),var(--color-dark-blue),var(--color-light-violet));background-size:300% 300%;animation:_ngcontent-%COMP%_toolbarFlow 12s ease infinite;color:var(--color-white);border-bottom:1px solid rgba(255,255,255,.08);box-shadow:0 6px 16px #00000047,0 2px 8px #00000038,0 0 0 1px #0003}@keyframes _ngcontent-%COMP%_toolbarFlow{0%{background-position:0% 50%}50%{background-position:100% 50%}to{background-position:0% 50%}}mat-toolbar.toolbar[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], mat-toolbar.toolbar[_ngcontent-%COMP%]   .mat-mdc-button[_ngcontent-%COMP%]{color:var(--texto-principal)}"]})};var Be=()=>{let n=Z(_t),e=Z(gt);return n.ready$.pipe(rn(t=>t===!0),mt(1),Vr(()=>n.user$.pipe(mt(1))),nn(t=>t?!0:e.createUrlTree(["/login"])))};var Lu=zf(Kf()),Fu=()=>{let n=Z(_t),e=Z(gt);return n.ready$.pipe(rn(t=>t===!0),mt(1),Vr(()=>n.esAdmin$.pipe(mt(1))),nn(t=>t?!0:(Lu.default.fire({title:"Acceso restringido",text:"Solo usuarios con perfil Administrador pueden ver Encuestas.",icon:"warning",customClass:{popup:"swal-cold-popup",title:"swal-cold-title",confirmButton:"swal-cold-btn"}}),e.createUrlTree(["/home"]))))};var Uu=()=>{let n=Z(_t),e=Z(gt);return Yc([n.ready$,n.esAdmin$]).pipe(rn(([t])=>t),mt(1),nn(([t,r])=>r?e.createUrlTree(["/home"]):!0))};var Bu=[{path:"login",loadComponent:()=>import("./chunk-2ESO7I5X.js").then(n=>n.Login)},{path:"home",canActivate:[Be],loadComponent:()=>import("./chunk-RFGLKT4O.js").then(n=>n.Home)},{path:"quien-soy",canActivate:[Be],loadComponent:()=>import("./chunk-CIXO7BTT.js").then(n=>n.QuienSoy)},{path:"ahorcado",canActivate:[Be],loadComponent:()=>import("./chunk-OXIZ4ALM.js").then(n=>n.Ahorcado)},{path:"mayor-menor",canActivate:[Be],loadComponent:()=>import("./chunk-5YUUBMOW.js").then(n=>n.MayorMenor)},{path:"preguntados",canActivate:[Be],loadComponent:()=>import("./chunk-2LQNDTHC.js").then(n=>n.Preguntados)},{path:"arkanoid",canActivate:[Be],loadComponent:()=>import("./chunk-CGOGRZAD.js").then(n=>n.Arkanoid)},{path:"estadisticas",canActivate:[Be],loadComponent:()=>import("./chunk-Q2WQFQPU.js").then(n=>n.Estadisticas)},{path:"encuestas",canActivate:[Be,Fu],loadComponent:()=>import("./chunk-IPGC3KYI.js").then(n=>n.Encuestas)},{path:"agregar-encuesta",canActivate:[Be,Uu],loadComponent:()=>import("./chunk-XIQAQDX2.js").then(n=>n.AgregarEncuesta)},{path:"",pathMatch:"full",redirectTo:"home"},{path:"**",loadComponent:()=>import("./chunk-75WSNZJF.js").then(n=>n.NotFound)}];var M=(function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n})(M||{}),Oe="*";function qu(n,e=null){return{type:M.Sequence,steps:n,options:e}}function xs(n){return{type:M.Style,styles:n,offset:null}}var Xe=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(e=0,t=0){this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},un=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(e){this.players=e;let t=0,r=0,s=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==o&&this._onFinish()}),c.onDestroy(()=>{++r==o&&this._onDestroy()}),c.onStart(()=>{++s==o&&this._onStart()})}),this.totalTime=this.players.reduce((c,l)=>Math.max(c,l.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(r=>{let s=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(s)})}getPosition(){let e=this.players.reduce((t,r)=>t===null||r.totalTime>t.totalTime?r:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Un="!";function $u(n){return new j(3e3,!1)}function Xf(){return new j(3100,!1)}function Zf(){return new j(3101,!1)}function ep(n){return new j(3001,!1)}function tp(n){return new j(3003,!1)}function np(n){return new j(3004,!1)}function zu(n,e){return new j(3005,!1)}function Ku(){return new j(3006,!1)}function Wu(){return new j(3007,!1)}function Gu(n,e){return new j(3008,!1)}function Hu(n){return new j(3002,!1)}function Qu(n,e,t,r,s){return new j(3010,!1)}function Yu(){return new j(3011,!1)}function Ju(){return new j(3012,!1)}function Xu(){return new j(3200,!1)}function Zu(){return new j(3202,!1)}function el(){return new j(3013,!1)}function tl(n){return new j(3014,!1)}function nl(n){return new j(3015,!1)}function rl(n){return new j(3016,!1)}function il(n,e){return new j(3404,!1)}function rp(n){return new j(3502,!1)}function sl(n){return new j(3503,!1)}function ol(){return new j(3300,!1)}function al(n){return new j(3504,!1)}function cl(n){return new j(3301,!1)}function ul(n,e){return new j(3302,!1)}function ll(n){return new j(3303,!1)}function hl(n,e){return new j(3400,!1)}function dl(n){return new j(3401,!1)}function fl(n){return new j(3402,!1)}function pl(n,e){return new j(3505,!1)}function Ze(n){switch(n.length){case 0:return new Xe;case 1:return n[0];default:return new un(n)}}function Us(n,e,t=new Map,r=new Map){let s=[],o=[],c=-1,l=null;if(e.forEach(d=>{let f=d.get("offset"),A=f==c,S=A&&l||new Map;d.forEach((b,R)=>{let P=R,k=b;if(R!=="offset")switch(P=n.normalizePropertyName(P,s),k){case Un:k=t.get(R);break;case Oe:k=r.get(R);break;default:k=n.normalizeStyleValue(R,P,k,s);break}S.set(P,k)}),A||o.push(S),l=S,c=f}),s.length)throw rp(s);return o}function $r(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&Ms(t,"start",n)));break;case"done":n.onDone(()=>r(t&&Ms(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&Ms(t,"destroy",n)));break}}function Ms(n,e,t){let r=t.totalTime,s=!!t.disabled,o=jr(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,r??n.totalTime,s),c=n._data;return c!=null&&(o._data=c),o}function jr(n,e,t,r,s="",o=0,c){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:s,totalTime:o,disabled:!!c}}function ve(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function Bs(n){let e=n.indexOf(":"),t=n.substring(1,e),r=n.slice(e+1);return[t,r]}var ip=typeof document>"u"?null:document.documentElement;function zr(n){let e=n.parentNode||n.host||null;return e===ip?null:e}function sp(n){return n.substring(1,6)=="ebkit"}var Ot=null,ju=!1;function ml(n){Ot||(Ot=op()||{},ju=Ot.style?"WebkitAppearance"in Ot.style:!1);let e=!0;return Ot.style&&!sp(n)&&(e=n in Ot.style,!e&&ju&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Ot.style)),e}function op(){return typeof document<"u"?document.body:null}function qs(n,e){for(;e;){if(e===n)return!0;e=zr(e)}return!1}function $s(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let r=n.querySelector(e);return r?[r]:[]}var ap=1e3,js="{{",cp="}}",zs="ng-enter",Kr="ng-leave",Bn="ng-trigger",qn=".ng-trigger",Ks="ng-animating",Wr=".ng-animating";function qe(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Ls(parseFloat(e[1]),e[2])}function Ls(n,e){switch(e){case"s":return n*ap;default:return n}}function $n(n,e,t){return n.hasOwnProperty("duration")?n:lp(n,e,t)}var up=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i;function lp(n,e,t){let r,s=0,o="";if(typeof n=="string"){let c=n.match(up);if(c===null)return e.push($u(n)),{duration:0,delay:0,easing:""};r=Ls(parseFloat(c[1]),c[2]);let l=c[3];l!=null&&(s=Ls(parseFloat(l),c[4]));let d=c[5];d&&(o=d)}else r=n;if(!t){let c=!1,l=e.length;r<0&&(e.push(Xf()),c=!0),s<0&&(e.push(Zf()),c=!0),c&&e.splice(l,0,$u(n))}return{duration:r,delay:s,easing:o}}function gl(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function Ve(n,e,t){e.forEach((r,s)=>{let o=Gr(s);t&&!t.has(s)&&t.set(s,n.style[o]),n.style[o]=r})}function yt(n,e){e.forEach((t,r)=>{let s=Gr(r);n.style[s]=""})}function ln(n){return Array.isArray(n)?n.length==1?n[0]:qu(n):n}function _l(n,e,t){let r=e.params||{},s=Ws(n);s.length&&s.forEach(o=>{r.hasOwnProperty(o)||t.push(ep(o))})}var Fs=new RegExp(`${js}\\s*(.+?)\\s*${cp}`,"g");function Ws(n){let e=[];if(typeof n=="string"){let t;for(;t=Fs.exec(n);)e.push(t[1]);Fs.lastIndex=0}return e}function hn(n,e,t){let r=`${n}`,s=r.replace(Fs,(o,c)=>{let l=e[c];return l==null&&(t.push(tp(c)),l=""),l.toString()});return s==r?n:s}var hp=/-+([a-z0-9])/g;function Gr(n){return n.replace(hp,(...e)=>e[1].toUpperCase())}function yl(n,e){return n===0||e===0}function vl(n,e,t){if(t.size&&e.length){let r=e[0],s=[];if(t.forEach((o,c)=>{r.has(c)||s.push(c),r.set(c,o)}),s.length)for(let o=1;o<e.length;o++){let c=e[o];s.forEach(l=>c.set(l,Hr(n,l)))}}return e}function Ee(n,e,t){switch(e.type){case M.Trigger:return n.visitTrigger(e,t);case M.State:return n.visitState(e,t);case M.Transition:return n.visitTransition(e,t);case M.Sequence:return n.visitSequence(e,t);case M.Group:return n.visitGroup(e,t);case M.Animate:return n.visitAnimate(e,t);case M.Keyframes:return n.visitKeyframes(e,t);case M.Style:return n.visitStyle(e,t);case M.Reference:return n.visitReference(e,t);case M.AnimateChild:return n.visitAnimateChild(e,t);case M.AnimateRef:return n.visitAnimateRef(e,t);case M.Query:return n.visitQuery(e,t);case M.Stagger:return n.visitStagger(e,t);default:throw np(e.type)}}function Hr(n,e){return window.getComputedStyle(n)[e]}var uo=(()=>{class n{validateStyleProperty(t){return ml(t)}containsElement(t,r){return qs(t,r)}getParentElement(t){return zr(t)}query(t,r,s){return $s(t,r,s)}computeStyle(t,r,s){return s||""}animate(t,r,s,o,c,l=[],d){return new Xe(s,o)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=sn({token:n,factory:n.\u0275fac})}return n})(),xt=class{static NOOP=new uo},Mt=class{};var dp=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Zr=class extends Mt{normalizePropertyName(e,t){return Gr(e)}normalizeStyleValue(e,t,r,s){let o="",c=r.toString().trim();if(dp.has(t)&&r!==0&&r!=="0")if(typeof r=="number")o="px";else{let l=r.match(/^[+-]?[\d\.]+([a-z]*)$/);l&&l[1].length==0&&s.push(zu(e,r))}return c+o}};var ei="*";function fp(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(r=>pp(r,t,e)):t.push(n),t}function pp(n,e,t){if(n[0]==":"){let d=mp(n,t);if(typeof d=="function"){e.push(d);return}n=d}let r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return t.push(nl(n)),e;let s=r[1],o=r[2],c=r[3];e.push(El(s,c));let l=s==ei&&c==ei;o[0]=="<"&&!l&&e.push(El(c,s))}function mp(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(rl(n)),"* => *"}}var Qr=new Set(["true","1"]),Yr=new Set(["false","0"]);function El(n,e){let t=Qr.has(n)||Yr.has(n),r=Qr.has(e)||Yr.has(e);return(s,o)=>{let c=n==ei||n==s,l=e==ei||e==o;return!c&&t&&typeof s=="boolean"&&(c=s?Qr.has(n):Yr.has(n)),!l&&r&&typeof o=="boolean"&&(l=o?Qr.has(e):Yr.has(e)),c&&l}}var kl=":self",gp=new RegExp(`s*${kl}s*,?`,"g");function Dl(n,e,t,r){return new Xs(n).build(e,t,r)}var wl="",Xs=class{_driver;constructor(e){this._driver=e}build(e,t,r){let s=new Zs(t);return this._resetContextStyleTimingState(s),Ee(this,ln(e),s)}_resetContextStyleTimingState(e){e.currentQuerySelector=wl,e.collectedStyles=new Map,e.collectedStyles.set(wl,new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,s=t.depCount=0,o=[],c=[];return e.name.charAt(0)=="@"&&t.errors.push(Ku()),e.definitions.forEach(l=>{if(this._resetContextStyleTimingState(t),l.type==M.State){let d=l,f=d.name;f.toString().split(/\s*,\s*/).forEach(A=>{d.name=A,o.push(this.visitState(d,t))}),d.name=f}else if(l.type==M.Transition){let d=this.visitTransition(l,t);r+=d.queryCount,s+=d.depCount,c.push(d)}else t.errors.push(Wu())}),{type:M.Trigger,name:e.name,states:o,transitions:c,queryCount:r,depCount:s,options:null}}visitState(e,t){let r=this.visitStyle(e.styles,t),s=e.options&&e.options.params||null;if(r.containsDynamicStyles){let o=new Set,c=s||{};r.styles.forEach(l=>{l instanceof Map&&l.forEach(d=>{Ws(d).forEach(f=>{c.hasOwnProperty(f)||o.add(f)})})}),o.size&&t.errors.push(Gu(e.name,[...o.values()]))}return{type:M.State,name:e.name,style:r,options:s?{params:s}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let r=Ee(this,ln(e.animation),t),s=fp(e.expr,t.errors);return{type:M.Transition,matchers:s,animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Vt(e.options)}}visitSequence(e,t){return{type:M.Sequence,steps:e.steps.map(r=>Ee(this,r,t)),options:Vt(e.options)}}visitGroup(e,t){let r=t.currentTime,s=0,o=e.steps.map(c=>{t.currentTime=r;let l=Ee(this,c,t);return s=Math.max(s,t.currentTime),l});return t.currentTime=s,{type:M.Group,steps:o,options:Vt(e.options)}}visitAnimate(e,t){let r=Ep(e.timings,t.errors);t.currentAnimateTimings=r;let s,o=e.styles?e.styles:xs({});if(o.type==M.Keyframes)s=this.visitKeyframes(o,t);else{let c=e.styles,l=!1;if(!c){l=!0;let f={};r.easing&&(f.easing=r.easing),c=xs(f)}t.currentTime+=r.duration+r.delay;let d=this.visitStyle(c,t);d.isEmptyStep=l,s=d}return t.currentAnimateTimings=null,{type:M.Animate,timings:r,style:s,options:null}}visitStyle(e,t){let r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){let r=[],s=Array.isArray(e.styles)?e.styles:[e.styles];for(let l of s)typeof l=="string"?l===Oe?r.push(l):t.errors.push(Hu(l)):r.push(new Map(Object.entries(l)));let o=!1,c=null;return r.forEach(l=>{if(l instanceof Map&&(l.has("easing")&&(c=l.get("easing"),l.delete("easing")),!o)){for(let d of l.values())if(d.toString().indexOf(js)>=0){o=!0;break}}}),{type:M.Style,styles:r,easing:c,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){let r=t.currentAnimateTimings,s=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(c=>{typeof c!="string"&&c.forEach((l,d)=>{let f=t.collectedStyles.get(t.currentQuerySelector),A=f.get(d),S=!0;A&&(o!=s&&o>=A.startTime&&s<=A.endTime&&(t.errors.push(Qu(d,A.startTime,A.endTime,o,s)),S=!1),o=A.startTime),S&&f.set(d,{startTime:o,endTime:s}),t.options&&_l(l,t.options,t.errors)})})}visitKeyframes(e,t){let r={type:M.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(Yu()),r;let s=1,o=0,c=[],l=!1,d=!1,f=0,A=e.steps.map(z=>{let L=this._makeStyleAst(z,t),U=L.offset!=null?L.offset:vp(L.styles),W=0;return U!=null&&(o++,W=L.offset=U),d=d||W<0||W>1,l=l||W<f,f=W,c.push(W),L});d&&t.errors.push(Ju()),l&&t.errors.push(Xu());let S=e.steps.length,b=0;o>0&&o<S?t.errors.push(Zu()):o==0&&(b=s/(S-1));let R=S-1,P=t.currentTime,k=t.currentAnimateTimings,V=k.duration;return A.forEach((z,L)=>{let U=b>0?L==R?1:b*L:c[L],W=U*V;t.currentTime=P+k.delay+W,k.duration=W,this._validateStyleAst(z,t),z.offset=U,r.styles.push(z)}),r}visitReference(e,t){return{type:M.Reference,animation:Ee(this,ln(e.animation),t),options:Vt(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:M.AnimateChild,options:Vt(e.options)}}visitAnimateRef(e,t){return{type:M.AnimateRef,animation:this.visitReference(e.animation,t),options:Vt(e.options)}}visitQuery(e,t){let r=t.currentQuerySelector,s=e.options||{};t.queryCount++,t.currentQuery=e;let[o,c]=_p(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,ve(t.collectedStyles,t.currentQuerySelector,new Map);let l=Ee(this,ln(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:M.Query,selector:o,limit:s.limit||0,optional:!!s.optional,includeSelf:c,animation:l,originalSelector:e.selector,options:Vt(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(el());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:$n(e.timings,t.errors,!0);return{type:M.Stagger,animation:Ee(this,ln(e.animation),t),timings:r,options:null}}};function _p(n){let e=!!n.split(/\s*,\s*/).find(t=>t==kl);return e&&(n=n.replace(gp,"")),n=n.replace(/@\*/g,qn).replace(/@\w+/g,t=>qn+"-"+t.slice(1)).replace(/:animating/g,Wr),[n,e]}function yp(n){return n?tn({},n):null}var Zs=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(e){this.errors=e}};function vp(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function Ep(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=$n(n,e).duration;return Gs(o,0,"")}let t=n;if(t.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=Gs(0,0,"");return o.dynamic=!0,o.strValue=t,o}let s=$n(t,e);return Gs(s.duration,s.delay,s.easing)}function Vt(n){return n?(n=tn({},n),n.params&&(n.params=yp(n.params))):n={},n}function Gs(n,e,t){return{duration:n,delay:e,easing:t}}function lo(n,e,t,r,s,o,c=null,l=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:s,delay:o,totalTime:s+o,easing:c,subTimeline:l}}var zn=class{_map=new Map;get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},wp=1,Tp=":enter",Ip=new RegExp(Tp,"g"),Ap=":leave",bp=new RegExp(Ap,"g");function Nl(n,e,t,r,s,o=new Map,c=new Map,l,d,f=[]){return new eo().buildKeyframes(n,e,t,r,s,o,c,l,d,f)}var eo=class{buildKeyframes(e,t,r,s,o,c,l,d,f,A=[]){f=f||new zn;let S=new to(e,t,f,s,o,A,[]);S.options=d;let b=d.delay?qe(d.delay):0;S.currentTimeline.delayNextStep(b),S.currentTimeline.setStyles([c],null,S.errors,d),Ee(this,r,S);let R=S.timelines.filter(P=>P.containsAnimation());if(R.length&&l.size){let P;for(let k=R.length-1;k>=0;k--){let V=R[k];if(V.element===t){P=V;break}}P&&!P.allowOnlyTimelineStyles()&&P.setStyles([l],null,S.errors,d)}return R.length?R.map(P=>P.buildKeyframes()):[lo(t,[],[],[],0,b,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let r=t.subInstructions.get(t.element);if(r){let s=t.createSubContext(e.options),o=t.currentTimeline.currentTime,c=this._visitSubInstructions(r,s,s.options);o!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){let r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(let s of e){let o=s?.delay;if(o){let c=typeof o=="number"?o:qe(hn(o,s?.params??{},t.errors));r.delayNextStep(c)}}}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime,c=r.duration!=null?qe(r.duration):null,l=r.delay!=null?qe(r.delay):null;return c!==0&&e.forEach(d=>{let f=t.appendInstructionToTimeline(d,c,l);o=Math.max(o,f.duration+f.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),Ee(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let r=t.subContextCount,s=t,o=e.options;if(o&&(o.params||o.delay)&&(s=t.createSubContext(o),s.transformIntoNewTimeline(),o.delay!=null)){s.previousNode.type==M.Style&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=ti);let c=qe(o.delay);s.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>Ee(this,c,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>r&&s.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let r=[],s=t.currentTimeline.currentTime,o=e.options&&e.options.delay?qe(e.options.delay):0;e.steps.forEach(c=>{let l=t.createSubContext(e.options);o&&l.delayNextStep(o),Ee(this,c,l),s=Math.max(s,l.currentTimeline.currentTime),r.push(l.currentTimeline)}),r.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(s),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let r=e.strValue,s=t.params?hn(r,t.params,t.errors):r;return $n(s,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let r=t.currentAnimateTimings=this._visitTiming(e.timings,t),s=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),s.snapshotCurrentStyles());let o=e.style;o.type==M.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),s.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let r=t.currentTimeline,s=t.currentAnimateTimings;!s&&r.hasCurrentStyleProperties()&&r.forwardFrame();let o=s&&s.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let r=t.currentAnimateTimings,s=t.currentTimeline.duration,o=r.duration,l=t.createSubContext().currentTimeline;l.easing=r.easing,e.styles.forEach(d=>{let f=d.offset||0;l.forwardTime(f*o),l.setStyles(d.styles,d.easing,t.errors,t.options),l.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(l),t.transformIntoNewTimeline(s+o),t.previousNode=e}visitQuery(e,t){let r=t.currentTimeline.currentTime,s=e.options||{},o=s.delay?qe(s.delay):0;o&&(t.previousNode.type===M.Style||r==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=ti);let c=r,l=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!s.optional,t.errors);t.currentQueryTotal=l.length;let d=null;l.forEach((f,A)=>{t.currentQueryIndex=A;let S=t.createSubContext(e.options,f);o&&S.delayNextStep(o),f===t.element&&(d=S.currentTimeline),Ee(this,e.animation,S),S.currentTimeline.applyStylesToKeyframe();let b=S.currentTimeline.currentTime;c=Math.max(c,b)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),d&&(t.currentTimeline.mergeTimelineCollectedStyles(d),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let r=t.parentContext,s=t.currentTimeline,o=e.timings,c=Math.abs(o.duration),l=c*(t.currentQueryTotal-1),d=c*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":d=l-d;break;case"full":d=r.currentStaggerTime;break}let A=t.currentTimeline;d&&A.delayNextStep(d);let S=A.currentTime;Ee(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=s.currentTime-S+(s.startTime-r.currentTimeline.startTime)}},ti={},to=class n{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=ti;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,t,r,s,o,c,l,d){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=s,this._leaveClassName=o,this.errors=c,this.timelines=l,this.currentTimeline=d||new ni(this._driver,t,0),l.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let r=e,s=this.options;r.duration!=null&&(s.duration=qe(r.duration)),r.delay!=null&&(s.delay=qe(r.delay));let o=r.params;if(o){let c=s.params;c||(c=this.options.params={}),Object.keys(o).forEach(l=>{(!t||!c.hasOwnProperty(l))&&(c[l]=hn(o[l],c,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let r=e.params={};Object.keys(t).forEach(s=>{r[s]=t[s]})}}return e}createSubContext(e=null,t,r){let s=t||this.element,o=new n(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=ti,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){let s={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new no(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,s,e.stretchStartingKeyframe);return this.timelines.push(o),s}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,s,o,c){let l=[];if(s&&l.push(this.element),e.length>0){e=e.replace(Ip,"."+this._enterClassName),e=e.replace(bp,"."+this._leaveClassName);let d=r!=1,f=this._driver.query(this.element,e,d);r!==0&&(f=r<0?f.slice(f.length+r,f.length):f.slice(0,r)),l.push(...f)}return!o&&l.length==0&&c.push(tl(t)),l}},ni=class n{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(e,t,r,s){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=s,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=wp,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Oe),this._currentKeyframe.set(t,Oe);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,s){t&&this._previousKeyframe.set("easing",t);let o=s&&s.params||{},c=Sp(e,this._globalTimelineStyles);for(let[l,d]of c){let f=hn(d,o,r);this._pendingStyles.set(l,f),this._localTimelineStyles.has(l)||this._backFill.set(l,this._globalTimelineStyles.get(l)??Oe),this._updateStyle(l,f)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{let s=this._styleSummary.get(r);(!s||t.time>s.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,r=this._keyframes.size===1&&this.duration===0,s=[];this._keyframes.forEach((l,d)=>{let f=new Map([...this._backFill,...l]);f.forEach((A,S)=>{A===Un?e.add(S):A===Oe&&t.add(S)}),r||f.set("offset",d/this.duration),s.push(f)});let o=[...e.values()],c=[...t.values()];if(r){let l=s[0],d=new Map(l);l.set("offset",0),d.set("offset",1),s=[l,d]}return lo(this.element,s,o,c,this.duration,this.startTime,this.easing,!1)}},no=class extends ni{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,t,r,s,o,c,l=!1){super(e,t,c.delay),this.keyframes=r,this.preStyleProps=s,this.postStyleProps=o,this._stretchStartingKeyframe=l,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:s}=this.timings;if(this._stretchStartingKeyframe&&t){let o=[],c=r+t,l=t/c,d=new Map(e[0]);d.set("offset",0),o.push(d);let f=new Map(e[0]);f.set("offset",Tl(l)),o.push(f);let A=e.length-1;for(let S=1;S<=A;S++){let b=new Map(e[S]),R=b.get("offset"),P=t+R*r;b.set("offset",Tl(P/c)),o.push(b)}r=c,t=0,s="",e=o}return lo(this.element,e,this.preStyleProps,this.postStyleProps,r,t,s,!0)}};function Tl(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function Sp(n,e){let t=new Map,r;return n.forEach(s=>{if(s==="*"){r??=e.keys();for(let o of r)t.set(o,Oe)}else for(let[o,c]of s)t.set(o,c)}),t}function Il(n,e,t,r,s,o,c,l,d,f,A,S,b){return{type:0,element:n,triggerName:e,isRemovalTransition:s,fromState:t,fromStyles:o,toState:r,toStyles:c,timelines:l,queriedElements:d,preStyleProps:f,postStyleProps:A,totalTime:S,errors:b}}var Hs={},ri=class{_triggerName;ast;_stateStyles;constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,s){return Pp(this.ast.matchers,e,t,r,s)}buildStyles(e,t,r){let s=this._stateStyles.get("*");return e!==void 0&&(s=this._stateStyles.get(e?.toString())||s),s?s.buildStyles(t,r):new Map}build(e,t,r,s,o,c,l,d,f,A){let S=[],b=this.ast.options&&this.ast.options.params||Hs,R=l&&l.params||Hs,P=this.buildStyles(r,R,S),k=d&&d.params||Hs,V=this.buildStyles(s,k,S),z=new Set,L=new Map,U=new Map,W=s==="void",me={params:Ol(k,b),delay:this.ast.options?.delay},Q=A?[]:Nl(e,t,this.ast.animation,o,c,P,V,me,f,S),y=0;return Q.forEach(p=>{y=Math.max(p.duration+p.delay,y)}),S.length?Il(t,this._triggerName,r,s,W,P,V,[],[],L,U,y,S):(Q.forEach(p=>{let m=p.element,_=ve(L,m,new Set);p.preStyleProps.forEach(w=>_.add(w));let v=ve(U,m,new Set);p.postStyleProps.forEach(w=>v.add(w)),m!==t&&z.add(m)}),Il(t,this._triggerName,r,s,W,P,V,Q,[...z.values()],L,U,y))}};function Pp(n,e,t,r,s){return n.some(o=>o(e,t,r,s))}function Ol(n,e){let t=tn({},e);return Object.entries(n).forEach(([r,s])=>{s!=null&&(t[r]=s)}),t}var ro=class{styles;defaultParams;normalizer;constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){let r=new Map,s=Ol(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((c,l)=>{c&&(c=hn(c,s,t));let d=this.normalizer.normalizePropertyName(l,t);c=this.normalizer.normalizeStyleValue(l,d,c,t),r.set(l,c)})}),r}};function Rp(n,e,t){return new io(n,e,t)}var io=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,t.states.forEach(s=>{let o=s.options&&s.options.params||{};this.states.set(s.name,new ro(s.style,o,r))}),Al(this.states,"true","1"),Al(this.states,"false","0"),t.transitions.forEach(s=>{this.transitionFactories.push(new ri(e,s,this.states))}),this.fallbackTransition=Cp(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,s){return this.transitionFactories.find(c=>c.match(e,t,r,s))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}};function Cp(n,e,t){let r=[(c,l)=>!0],s={type:M.Sequence,steps:[],options:null},o={type:M.Transition,animation:s,matchers:r,options:null,queryCount:0,depCount:0};return new ri(n,o,e)}function Al(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var kp=new zn,so=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r}register(e,t){let r=[],s=[],o=Dl(this._driver,t,r,s);if(r.length)throw sl(r);this._animations.set(e,o)}_buildPlayer(e,t,r){let s=e.element,o=Us(this._normalizer,e.keyframes,t,r);return this._driver.animate(s,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){let s=[],o=this._animations.get(e),c,l=new Map;if(o?(c=Nl(this._driver,t,o,zs,Kr,new Map,new Map,r,kp,s),c.forEach(A=>{let S=ve(l,A.element,new Map);A.postStyleProps.forEach(b=>S.set(b,null))})):(s.push(ol()),c=[]),s.length)throw al(s);l.forEach((A,S)=>{A.forEach((b,R)=>{A.set(R,this._driver.computeStyle(S,R,Oe))})});let d=c.map(A=>{let S=l.get(A.element);return this._buildPlayer(A,new Map,S)}),f=Ze(d);return this._playersById.set(e,f),f.onDestroy(()=>this.destroy(e)),this.players.push(f),f}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw cl(e);return t}listen(e,t,r,s){let o=jr(t,"","","");return $r(this._getPlayer(e),r,o,s),()=>{}}command(e,t,r,s){if(r=="register"){this.register(e,s[0]);return}if(r=="create"){let c=s[0]||{};this.create(e,t,c);return}let o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(e);break}}},bl="ng-animate-queued",Dp=".ng-animate-queued",Qs="ng-animate-disabled",Np=".ng-animate-disabled",Op="ng-star-inserted",Vp=".ng-star-inserted",xp=[],Vl={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Mp={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},xe="__ng_removed",Kn=class{namespaceId;value;options;get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let r=e&&e.hasOwnProperty("value"),s=r?e.value:e;if(this.value=Fp(s),r){let o=e,{value:c}=o,l=Gc(o,["value"]);this.options=l}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let r=this.options.params;Object.keys(t).forEach(s=>{r[s]==null&&(r[s]=t[s])})}}},jn="void",Ys=new Kn(jn),oo=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this._hostClassName="ng-tns-"+e,Ce(t,this._hostClassName)}listen(e,t,r,s){if(!this._triggers.has(t))throw ul(r,t);if(r==null||r.length==0)throw ll(t);if(!Up(r))throw hl(r,t);let o=ve(this._elementListeners,e,[]),c={name:t,phase:r,callback:s};o.push(c);let l=ve(this._engine.statesByElement,e,new Map);return l.has(t)||(Ce(e,Bn),Ce(e,Bn+"-"+t),l.set(t,Ys)),()=>{this._engine.afterFlush(()=>{let d=o.indexOf(c);d>=0&&o.splice(d,1),this._triggers.has(t)||l.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw dl(e);return t}trigger(e,t,r,s=!0){let o=this._getTrigger(t),c=new Wn(this.id,t,e),l=this._engine.statesByElement.get(e);l||(Ce(e,Bn),Ce(e,Bn+"-"+t),this._engine.statesByElement.set(e,l=new Map));let d=l.get(t),f=new Kn(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&d&&f.absorbOptions(d.options),l.set(t,f),d||(d=Ys),!(f.value===jn)&&d.value===f.value){if(!$p(d.params,f.params)){let k=[],V=o.matchStyles(d.value,d.params,k),z=o.matchStyles(f.value,f.params,k);k.length?this._engine.reportError(k):this._engine.afterFlush(()=>{yt(e,V),Ve(e,z)})}return}let b=ve(this._engine.playersByElement,e,[]);b.forEach(k=>{k.namespaceId==this.id&&k.triggerName==t&&k.queued&&k.destroy()});let R=o.matchTransition(d.value,f.value,e,f.params),P=!1;if(!R){if(!s)return;R=o.fallbackTransition,P=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:R,fromState:d,toState:f,player:c,isFallbackTransition:P}),P||(Ce(e,bl),c.onStart(()=>{dn(e,bl)})),c.onDone(()=>{let k=this.players.indexOf(c);k>=0&&this.players.splice(k,1);let V=this._engine.playersByElement.get(e);if(V){let z=V.indexOf(c);z>=0&&V.splice(z,1)}}),this.players.push(c),b.push(c),c}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(s=>s.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let r=this._engine.driver.query(e,qn,!0);r.forEach(s=>{if(s[xe])return;let o=this._engine.fetchNamespacesByElement(s);o.size?o.forEach(c=>c.triggerLeaveAnimation(s,t,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(e,t,r,s){let o=this._engine.statesByElement.get(e),c=new Map;if(o){let l=[];if(o.forEach((d,f)=>{if(c.set(f,d.value),this._triggers.has(f)){let A=this.trigger(e,f,jn,s);A&&l.push(A)}}),l.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),r&&Ze(l).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){let s=new Set;t.forEach(o=>{let c=o.name;if(s.has(c))return;s.add(c);let d=this._triggers.get(c).fallbackTransition,f=r.get(c)||Ys,A=new Kn(jn),S=new Wn(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:d,fromState:f,toState:A,player:S,isFallbackTransition:!0})})}}removeNode(e,t){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let s=!1;if(r.totalAnimations){let o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)s=!0;else{let c=e;for(;c=c.parentNode;)if(r.statesByElement.get(c)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(e),s)r.markElementAsRemoved(this.id,e,!1,t);else{let o=e[xe];(!o||o===Vl)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Ce(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(r=>{let s=r.player;if(s.destroyed)return;let o=r.element,c=this._elementListeners.get(o);c&&c.forEach(l=>{if(l.name==r.triggerName){let d=jr(o,r.triggerName,r.fromState.value,r.toState.value);d._data=e,$r(r.player,l.phase,d,l.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):t.push(r)}),this._queue=[],t.sort((r,s)=>{let o=r.transition.ast.depCount,c=s.transition.ast.depCount;return o==0||c==0?o-c:this._engine.driver.containsElement(r.element,s.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},ao=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,t)=>{};_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){let r=new oo(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){let r=this._namespaceList,s=this.namespacesByHostElement;if(r.length-1>=0){let c=!1,l=this.driver.getParentElement(t);for(;l;){let d=s.get(l);if(d){let f=r.indexOf(d);r.splice(f+1,0,e),c=!0;break}l=this.driver.getParentElement(l)}c||r.unshift(e)}else r.push(e);return s.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let s=this._namespaceLookup[e];s&&s.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let s=this._namespaceList.indexOf(r);s>=0&&this._namespaceList.splice(s,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,r=this.statesByElement.get(e);if(r){for(let s of r.values())if(s.namespaceId){let o=this._fetchNamespace(s.namespaceId);o&&t.add(o)}}return t}trigger(e,t,r,s){if(Jr(t)){let o=this._fetchNamespace(e);if(o)return o.trigger(t,r,s),!0}return!1}insertNode(e,t,r,s){if(!Jr(t))return;let o=t[xe];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){let c=this._fetchNamespace(e);c&&c.insertNode(t,r)}s&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ce(e,Qs)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),dn(e,Qs))}removeNode(e,t,r){if(Jr(t)){let s=e?this._fetchNamespace(e):null;s?s.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);let o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,s,o){this.collectedLeaveElements.push(t),t[xe]={namespaceId:e,setForRemoval:s,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,r,s,o){return Jr(t)?this._fetchNamespace(e).listen(t,r,s,o):()=>{}}_buildInstruction(e,t,r,s,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,s,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,qn,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,Wr,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Ze(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[xe];if(t&&t.setForRemoval){if(e[xe]=Vl,t.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Qs)&&this.markElementAsDisabled(e,!1),this.driver.query(e,Np,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,s)=>this._balanceNamespaceList(r,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let s=this.collectedEnterElements[r];Ce(s,Op)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{t=this._flushAnimations(r,e)}finally{for(let s=0;s<r.length;s++)r[s]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let s=this.collectedLeaveElements[r];this.processLeaveNode(s)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],t.length?Ze(t).onDone(()=>{r.forEach(s=>s())}):r.forEach(s=>s())}}reportError(e){throw fl(e)}_flushAnimations(e,t){let r=new zn,s=[],o=new Map,c=[],l=new Map,d=new Map,f=new Map,A=new Set;this.disabledNodes.forEach(D=>{A.add(D);let N=this.driver.query(D,Dp,!0);for(let O=0;O<N.length;O++)A.add(N[O])});let S=this.bodyNode,b=Array.from(this.statesByElement.keys()),R=Rl(b,this.collectedEnterElements),P=new Map,k=0;R.forEach((D,N)=>{let O=zs+k++;P.set(N,O),D.forEach(F=>Ce(F,O))});let V=[],z=new Set,L=new Set;for(let D=0;D<this.collectedLeaveElements.length;D++){let N=this.collectedLeaveElements[D],O=N[xe];O&&O.setForRemoval&&(V.push(N),z.add(N),O.hasAnimation?this.driver.query(N,Vp,!0).forEach(F=>z.add(F)):L.add(N))}let U=new Map,W=Rl(b,Array.from(z));W.forEach((D,N)=>{let O=Kr+k++;U.set(N,O),D.forEach(F=>Ce(F,O))}),e.push(()=>{R.forEach((D,N)=>{let O=P.get(N);D.forEach(F=>dn(F,O))}),W.forEach((D,N)=>{let O=U.get(N);D.forEach(F=>dn(F,O))}),V.forEach(D=>{this.processLeaveNode(D)})});let me=[],Q=[];for(let D=this._namespaceList.length-1;D>=0;D--)this._namespaceList[D].drainQueuedTransitions(t).forEach(O=>{let F=O.player,ie=O.element;if(me.push(F),this.collectedEnterElements.length){let te=ie[xe];if(te&&te.setForMove){if(te.previousTriggersValues&&te.previousTriggersValues.has(O.triggerName)){let He=te.previousTriggersValues.get(O.triggerName),ge=this.statesByElement.get(O.element);if(ge&&ge.has(O.triggerName)){let Qe=ge.get(O.triggerName);Qe.value=He,ge.set(O.triggerName,Qe)}}F.destroy();return}}let be=!S||!this.driver.containsElement(S,ie),ee=U.get(ie),Y=P.get(ie),J=this._buildInstruction(O,r,Y,ee,be);if(J.errors&&J.errors.length){Q.push(J);return}if(be){F.onStart(()=>yt(ie,J.fromStyles)),F.onDestroy(()=>Ve(ie,J.toStyles)),s.push(F);return}if(O.isFallbackTransition){F.onStart(()=>yt(ie,J.fromStyles)),F.onDestroy(()=>Ve(ie,J.toStyles)),s.push(F);return}let ut=[];J.timelines.forEach(te=>{te.stretchStartingKeyframe=!0,this.disabledNodes.has(te.element)||ut.push(te)}),J.timelines=ut,r.append(ie,J.timelines);let Hi={instruction:J,player:F,element:ie};c.push(Hi),J.queriedElements.forEach(te=>ve(l,te,[]).push(F)),J.preStyleProps.forEach((te,He)=>{if(te.size){let ge=d.get(He);ge||d.set(He,ge=new Set),te.forEach((Qe,lt)=>ge.add(lt))}}),J.postStyleProps.forEach((te,He)=>{let ge=f.get(He);ge||f.set(He,ge=new Set),te.forEach((Qe,lt)=>ge.add(lt))})});if(Q.length){let D=[];Q.forEach(N=>{D.push(pl(N.triggerName,N.errors))}),me.forEach(N=>N.destroy()),this.reportError(D)}let y=new Map,p=new Map;c.forEach(D=>{let N=D.element;r.has(N)&&(p.set(N,N),this._beforeAnimationBuild(D.player.namespaceId,D.instruction,y))}),s.forEach(D=>{let N=D.element;this._getPreviousPlayers(N,!1,D.namespaceId,D.triggerName,null).forEach(F=>{ve(y,N,[]).push(F),F.destroy()})});let m=V.filter(D=>Cl(D,d,f)),_=new Map;Pl(_,this.driver,L,f,Oe).forEach(D=>{Cl(D,d,f)&&m.push(D)});let w=new Map;R.forEach((D,N)=>{Pl(w,this.driver,new Set(D),d,Un)}),m.forEach(D=>{let N=_.get(D),O=w.get(D);_.set(D,new Map([...N?.entries()??[],...O?.entries()??[]]))});let g=[],Ae=[],ct={};c.forEach(D=>{let{element:N,player:O,instruction:F}=D;if(r.has(N)){if(A.has(N)){O.onDestroy(()=>Ve(N,F.toStyles)),O.disabled=!0,O.overrideTotalTime(F.totalTime),s.push(O);return}let ie=ct;if(p.size>1){let ee=N,Y=[];for(;ee=ee.parentNode;){let J=p.get(ee);if(J){ie=J;break}Y.push(ee)}Y.forEach(J=>p.set(J,ie))}let be=this._buildAnimation(O.namespaceId,F,y,o,w,_);if(O.setRealPlayer(be),ie===ct)g.push(O);else{let ee=this.playersByElement.get(ie);ee&&ee.length&&(O.parentPlayer=Ze(ee)),s.push(O)}}else yt(N,F.fromStyles),O.onDestroy(()=>Ve(N,F.toStyles)),Ae.push(O),A.has(N)&&s.push(O)}),Ae.forEach(D=>{let N=o.get(D.element);if(N&&N.length){let O=Ze(N);D.setRealPlayer(O)}}),s.forEach(D=>{D.parentPlayer?D.syncPlayerEvents(D.parentPlayer):D.destroy()});for(let D=0;D<V.length;D++){let N=V[D],O=N[xe];if(dn(N,Kr),O&&O.hasAnimation)continue;let F=[];if(l.size){let be=l.get(N);be&&be.length&&F.push(...be);let ee=this.driver.query(N,Wr,!0);for(let Y=0;Y<ee.length;Y++){let J=l.get(ee[Y]);J&&J.length&&F.push(...J)}}let ie=F.filter(be=>!be.destroyed);ie.length?Bp(this,N,ie):this.processLeaveNode(N)}return V.length=0,g.forEach(D=>{this.players.push(D),D.onDone(()=>{D.destroy();let N=this.players.indexOf(D);this.players.splice(N,1)}),D.play()}),g}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,s,o){let c=[];if(t){let l=this.playersByQueriedElement.get(e);l&&(c=l)}else{let l=this.playersByElement.get(e);if(l){let d=!o||o==jn;l.forEach(f=>{f.queued||!d&&f.triggerName!=s||c.push(f)})}}return(r||s)&&(c=c.filter(l=>!(r&&r!=l.namespaceId||s&&s!=l.triggerName))),c}_beforeAnimationBuild(e,t,r){let s=t.triggerName,o=t.element,c=t.isRemovalTransition?void 0:e,l=t.isRemovalTransition?void 0:s;for(let d of t.timelines){let f=d.element,A=f!==o,S=ve(r,f,[]);this._getPreviousPlayers(f,A,c,l,t.toState).forEach(R=>{let P=R.getRealPlayer();P.beforeDestroy&&P.beforeDestroy(),R.destroy(),S.push(R)})}yt(o,t.fromStyles)}_buildAnimation(e,t,r,s,o,c){let l=t.triggerName,d=t.element,f=[],A=new Set,S=new Set,b=t.timelines.map(P=>{let k=P.element;A.add(k);let V=k[xe];if(V&&V.removedBeforeQueried)return new Xe(P.duration,P.delay);let z=k!==d,L=qp((r.get(k)||xp).map(y=>y.getRealPlayer())).filter(y=>{let p=y;return p.element?p.element===k:!1}),U=o.get(k),W=c.get(k),me=Us(this._normalizer,P.keyframes,U,W),Q=this._buildPlayer(P,me,L);if(P.subTimeline&&s&&S.add(k),z){let y=new Wn(e,l,k);y.setRealPlayer(Q),f.push(y)}return Q});f.forEach(P=>{ve(this.playersByQueriedElement,P.element,[]).push(P),P.onDone(()=>Lp(this.playersByQueriedElement,P.element,P))}),A.forEach(P=>Ce(P,Ks));let R=Ze(b);return R.onDestroy(()=>{A.forEach(P=>dn(P,Ks)),Ve(d,t.toStyles)}),S.forEach(P=>{ve(s,P,[]).push(R)}),R}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Xe(e.duration,e.delay)}},Wn=class{namespaceId;triggerName;element;_player=new Xe;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(s=>$r(e,r,void 0,s))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ve(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function Lp(n,e,t){let r=n.get(e);if(r){if(r.length){let s=r.indexOf(t);r.splice(s,1)}r.length==0&&n.delete(e)}return r}function Fp(n){return n??null}function Jr(n){return n&&n.nodeType===1}function Up(n){return n=="start"||n=="done"}function Sl(n,e){let t=n.style.display;return n.style.display=e??"none",t}function Pl(n,e,t,r,s){let o=[];t.forEach(d=>o.push(Sl(d)));let c=[];r.forEach((d,f)=>{let A=new Map;d.forEach(S=>{let b=e.computeStyle(f,S,s);A.set(S,b),(!b||b.length==0)&&(f[xe]=Mp,c.push(f))}),n.set(f,A)});let l=0;return t.forEach(d=>Sl(d,o[l++])),c}function Rl(n,e){let t=new Map;if(n.forEach(l=>t.set(l,[])),e.length==0)return t;let r=1,s=new Set(e),o=new Map;function c(l){if(!l)return r;let d=o.get(l);if(d)return d;let f=l.parentNode;return t.has(f)?d=f:s.has(f)?d=r:d=c(f),o.set(l,d),d}return e.forEach(l=>{let d=c(l);d!==r&&t.get(d).push(l)}),t}function Ce(n,e){n.classList?.add(e)}function dn(n,e){n.classList?.remove(e)}function Bp(n,e,t){Ze(t).onDone(()=>n.processLeaveNode(e))}function qp(n){let e=[];return xl(n,e),e}function xl(n,e){for(let t=0;t<n.length;t++){let r=n[t];r instanceof un?xl(r.players,e):e.push(r)}}function $p(n,e){let t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let s=0;s<t.length;s++){let o=t[s];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}function Cl(n,e,t){let r=t.get(n);if(!r)return!1;let s=e.get(n);return s?r.forEach(o=>s.add(o)):e.set(n,r),t.delete(n),!0}var fn=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,t)=>{};constructor(e,t,r){this._driver=t,this._normalizer=r,this._transitionEngine=new ao(e.body,t,r),this._timelineEngine=new so(e.body,t,r),this._transitionEngine.onRemovalComplete=(s,o)=>this.onRemovalComplete(s,o)}registerTrigger(e,t,r,s,o){let c=e+"-"+s,l=this._triggerCache[c];if(!l){let d=[],f=[],A=Dl(this._driver,o,d,f);if(d.length)throw il(s,d);l=Rp(s,A,this._normalizer),this._triggerCache[c]=l}this._transitionEngine.registerTrigger(t,s,l)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,s){this._transitionEngine.insertNode(e,t,r,s)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,s){if(r.charAt(0)=="@"){let[o,c]=Bs(r),l=s;this._timelineEngine.command(o,t,c,l)}else this._transitionEngine.trigger(e,t,r,s)}listen(e,t,r,s,o){if(r.charAt(0)=="@"){let[c,l]=Bs(r);return this._timelineEngine.listen(c,t,l,o)}return this._transitionEngine.listen(e,t,r,s,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function jp(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=Js(e[0]),e.length>1&&(r=Js(e[e.length-1]))):e instanceof Map&&(t=Js(e)),t||r?new zp(n,t,r):null}var zp=(()=>{class n{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(t,r,s){this._element=t,this._startStyles=r,this._endStyles=s;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Ve(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ve(this._element,this._initialStyles),this._endStyles&&(Ve(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(yt(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(yt(this._element,this._endStyles),this._endStyles=null),Ve(this._element,this._initialStyles),this._state=3)}}return n})();function Js(n){let e=null;return n.forEach((t,r)=>{Kp(r)&&(e=e||new Map,e.set(r,t))}),e}function Kp(n){return n==="display"||n==="position"}var ii=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(e,t,r,s){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=s,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,s)=>{s!=="offset"&&e.set(s,this._finished?r:Hr(this.element,s))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},si=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return qs(e,t)}getParentElement(e){return zr(e)}query(e,t,r){return $s(e,t,r)}computeStyle(e,t,r){return Hr(e,t)}animate(e,t,r,s,o,c=[]){let l=s==0?"both":"forwards",d={duration:r,delay:s,fill:l};o&&(d.easing=o);let f=new Map,A=c.filter(R=>R instanceof ii);yl(r,s)&&A.forEach(R=>{R.currentSnapshot.forEach((P,k)=>f.set(k,P))});let S=gl(t).map(R=>new Map(R));S=vl(e,S,f);let b=jp(e,S);return new ii(e,S,d,b)}};var Xr="@",Ml="@.disabled",oi=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(e,t,r,s){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=s}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,s=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,s)}removeChild(e,t,r){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,s){this.delegate.setAttribute(e,t,r,s)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,s){this.delegate.setStyle(e,t,r,s)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){t.charAt(0)==Xr&&t==Ml?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r,s){return this.delegate.listen(e,t,r,s)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},co=class extends oi{factory;constructor(e,t,r,s,o){super(t,r,s,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){t.charAt(0)==Xr?t.charAt(1)=="."&&t==Ml?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r,s){if(t.charAt(0)==Xr){let o=Wp(e),c=t.slice(1),l="";return c.charAt(0)!=Xr&&([c,l]=Gp(c)),this.engine.listen(this.namespaceId,o,c,l,d=>{let f=d._data||-1;this.factory.scheduleListenerCallback(f,r,d)})}return this.delegate.listen(e,t,r,s)}};function Wp(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function Gp(n){let e=n.indexOf("."),t=n.substring(0,e),r=n.slice(e+1);return[t,r]}var ai=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,t.onRemovalComplete=(s,o)=>{o?.removeChild(null,s)}}createRenderer(e,t){let s=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let f=this._rendererCache,A=f.get(s);if(!A){let S=()=>f.delete(s);A=new oi("",s,this.engine,S),f.set(s,A)}return A}let o=t.id,c=t.id+"-"+this._currentId;this._currentId++,this.engine.register(c,e);let l=f=>{Array.isArray(f)?f.forEach(l):this.engine.registerTrigger(o,c,e,f.name,f)};return t.data.animation.forEach(l),new co(this,c,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(r));return}let s=this._animationCallbacksBuffer;s.length==0&&queueMicrotask(()=>{this._zone.run(()=>{s.forEach(o=>{let[c,l]=o;c(l)}),this._animationCallbacksBuffer=[]})}),s.push([t,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(e){this.engine.flush(),this.delegate.componentReplaced?.(e)}};var Qp=(()=>{class n extends fn{constructor(t,r,s){super(t,r,s)}ngOnDestroy(){this.flush()}static \u0275fac=function(r){return new(r||n)(xr(Lr),xr(xt),xr(Mt))};static \u0275prov=sn({token:n,factory:n.\u0275fac})}return n})();function Yp(){return new Zr}function Jp(n,e,t){return new ai(n,e,t)}var Ll=[{provide:Mt,useFactory:Yp},{provide:fn,useClass:Qp},{provide:ru,useFactory:Jp,deps:[wu,fn,Pe]}],vw=[{provide:xt,useClass:uo},{provide:As,useValue:"NoopAnimations"},...Ll],Xp=[{provide:xt,useFactory:()=>new si},{provide:As,useFactory:()=>"BrowserAnimations"},...Ll];function Fl(){return iu("NgEagerAnimations"),[...Xp]}var Ul=()=>{};var $l=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},Zp=function(n){let e=[],t=0,r=0;for(;t<n.length;){let s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){let o=n[t++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){let o=n[t++],c=n[t++],l=n[t++],d=((s&7)<<18|(o&63)<<12|(c&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{let o=n[t++],c=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|c&63)}}return e.join("")},ci={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){let o=n[s],c=s+1<n.length,l=c?n[s+1]:0,d=s+2<n.length,f=d?n[s+2]:0,A=o>>2,S=(o&3)<<4|l>>4,b=(l&15)<<2|f>>6,R=f&63;d||(R=64,c||(b=64)),r.push(t[A],t[S],t[b],t[R])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray($l(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Zp(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){let o=t[n.charAt(s++)],l=s<n.length?t[n.charAt(s)]:0;++s;let f=s<n.length?t[n.charAt(s)]:64;++s;let S=s<n.length?t[n.charAt(s)]:64;if(++s,o==null||l==null||f==null||S==null)throw new fo;let b=o<<2|l>>4;if(r.push(b),f!==64){let R=l<<4&240|f>>2;if(r.push(R),S!==64){let P=f<<6&192|S;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},fo=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},em=function(n){let e=$l(n);return ci.encodeByteArray(e,!0)},Hn=function(n){return em(n).replace(/\./g,"")},ui=function(n){try{return ci.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function mo(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var tm=()=>mo().__FIREBASE_DEFAULTS__,nm=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},rm=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&ui(n[1]);return e&&JSON.parse(e)},go=()=>{try{return Ul()||tm()||nm()||rm()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},_o=n=>{var e,t;return(t=(e=go())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},jl=n=>{let e=_o(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},yo=()=>{var n;return(n=go())===null||n===void 0?void 0:n.config},vo=n=>{var e;return(e=go())===null||e===void 0?void 0:e[`_${n}`]};var Lt=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Ft(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function li(n){return T(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function zl(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Hn(JSON.stringify(t)),Hn(JSON.stringify(c)),""].join(".")}var Gn={};function im(){let n={prod:[],emulator:[]};for(let e of Object.keys(Gn))Gn[e]?n.emulator.push(e):n.prod.push(e);return n}function sm(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var Bl=!1;function hi(n,e){if(typeof window>"u"||typeof document>"u"||!Ft(window.location.host)||Gn[n]===e||Gn[n]||Bl)return;Gn[n]=e;function t(b){return`__firebase__banner__${b}`}let r="__firebase__banner",o=im().prod.length>0;function c(){let b=document.getElementById(r);b&&b.remove()}function l(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function d(b,R){b.setAttribute("width","24"),b.setAttribute("id",R),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function f(){let b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{Bl=!0,c()},b}function A(b,R){b.setAttribute("id",R),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function S(){let b=sm(r),R=t("text"),P=document.getElementById(R)||document.createElement("span"),k=t("learnmore"),V=document.getElementById(k)||document.createElement("a"),z=t("preprendIcon"),L=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){let U=b.element;l(U),A(V,k);let W=f();d(L,z),U.append(L,P,V,W),document.body.appendChild(U)}o?(P.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function ae(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Kl(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ae())}function Wl(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Gl(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Hl(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ql(){let n=ae();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Qn(){try{return typeof indexedDB=="object"}catch{return!1}}function Yl(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var om="FirebaseError",Ie=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=om,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Me.prototype.create)}},Me=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},s=`${this.service}/${e}`,o=this.errors[e],c=o?am(o,r):"Error",l=`${this.serviceName}: ${c} (${s}).`;return new Ie(s,l,r)}};function am(n,e){return n.replace(cm,(t,r)=>{let s=e[r];return s!=null?String(s):`<${r}?>`})}var cm=/\{\$([^}]+)}/g;function Jl(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function $e(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let s of t){if(!r.includes(s))return!1;let o=n[s],c=e[s];if(ql(o)&&ql(c)){if(!$e(o,c))return!1}else if(o!==c)return!1}for(let s of r)if(!t.includes(s))return!1;return!0}function ql(n){return n!==null&&typeof n=="object"}function Yn(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Xl(n,e){let t=new po(n,e);return t.subscribe.bind(t)}var po=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");um(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=ho),s.error===void 0&&(s.error=ho),s.complete===void 0&&(s.complete=ho);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function um(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function ho(){}var Iw=14400*1e3;function et(n){return n&&n._delegate?n._delegate:n}var pe=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ut="[DEFAULT]";var Eo=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Lt;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),s=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hm(e))try{this.getOrInitializeService({instanceIdentifier:Ut})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let s=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=Ut){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return T(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ut){return this.instances.has(e)}getOptions(e=Ut){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,c]of this.instancesDeferred.entries()){let l=this.normalizeInstanceIdentifier(o);r===l&&c.resolve(s)}return s}onInit(e,t){var r;let s=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(s,o);let c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:lm(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ut){return this.component?this.component.multipleInstances?e:Ut:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function lm(n){return n===Ut?void 0:n}function hm(n){return n.instantiationMode==="EAGER"}var di=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Eo(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var dm=[],G=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(G||{}),fm={debug:G.DEBUG,verbose:G.VERBOSE,info:G.INFO,warn:G.WARN,error:G.ERROR,silent:G.SILENT},pm=G.INFO,mm={[G.DEBUG]:"log",[G.VERBOSE]:"log",[G.INFO]:"info",[G.WARN]:"warn",[G.ERROR]:"error"},gm=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),s=mm[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},je=class{constructor(e){this.name=e,this._logLevel=pm,this._logHandler=gm,this._userLogHandler=null,dm.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in G))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fm[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,G.DEBUG,...e),this._logHandler(this,G.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,G.VERBOSE,...e),this._logHandler(this,G.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,G.INFO,...e),this._logHandler(this,G.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,G.WARN,...e),this._logHandler(this,G.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,G.ERROR,...e),this._logHandler(this,G.ERROR,...e)}};var _m=(n,e)=>e.some(t=>n instanceof t),Zl,eh;function ym(){return Zl||(Zl=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vm(){return eh||(eh=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var th=new WeakMap,To=new WeakMap,nh=new WeakMap,wo=new WeakMap,Ao=new WeakMap;function Em(n){let e=new Promise((t,r)=>{let s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{t(ze(n.result)),s()},c=()=>{r(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&th.set(t,n)}).catch(()=>{}),Ao.set(e,n),e}function wm(n){if(To.has(n))return;let e=new Promise((t,r)=>{let s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{t(),s()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});To.set(n,e)}var Io={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return To.get(n);if(e==="objectStoreNames")return n.objectStoreNames||nh.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ze(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function rh(n){Io=n(Io)}function Tm(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(fi(this),e,...t);return nh.set(r,e.sort?e.sort():[e]),ze(r)}:vm().includes(n)?function(...e){return n.apply(fi(this),e),ze(th.get(this))}:function(...e){return ze(n.apply(fi(this),e))}}function Im(n){return typeof n=="function"?Tm(n):(n instanceof IDBTransaction&&wm(n),_m(n,ym())?new Proxy(n,Io):n)}function ze(n){if(n instanceof IDBRequest)return Em(n);if(wo.has(n))return wo.get(n);let e=Im(n);return e!==n&&(wo.set(n,e),Ao.set(e,n)),e}var fi=n=>Ao.get(n);function sh(n,e,{blocked:t,upgrade:r,blocking:s,terminated:o}={}){let c=indexedDB.open(n,e),l=ze(c);return r&&c.addEventListener("upgradeneeded",d=>{r(ze(c.result),d.oldVersion,d.newVersion,ze(c.transaction),d)}),t&&c.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),l.then(d=>{o&&d.addEventListener("close",()=>o()),s&&d.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),l}var Am=["get","getKey","getAll","getAllKeys","count"],bm=["put","add","delete","clear"],bo=new Map;function ih(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(bo.get(e))return bo.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,s=bm.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Am.includes(t)))return;let o=function(c,...l){return T(this,null,function*(){let d=this.transaction(c,s?"readwrite":"readonly"),f=d.store;return r&&(f=f.index(l.shift())),(yield Promise.all([f[t](...l),s&&d.done]))[0]})};return bo.set(e,o),o}rh(n=>Wc(tn({},n),{get:(e,t,r)=>ih(e,t)||n.get(e,t,r),has:(e,t)=>!!ih(e,t)||n.has(e,t)}));var Po=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Sm(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function Sm(n){let e=n.getComponent();return e?.type==="VERSION"}var Ro="@firebase/app",oh="0.13.2";var tt=new je("@firebase/app"),Pm="@firebase/app-compat",Rm="@firebase/analytics-compat",Cm="@firebase/analytics",km="@firebase/app-check-compat",Dm="@firebase/app-check",Nm="@firebase/auth",Om="@firebase/auth-compat",Vm="@firebase/database",xm="@firebase/data-connect",Mm="@firebase/database-compat",Lm="@firebase/functions",Fm="@firebase/functions-compat",Um="@firebase/installations",Bm="@firebase/installations-compat",qm="@firebase/messaging",$m="@firebase/messaging-compat",jm="@firebase/performance",zm="@firebase/performance-compat",Km="@firebase/remote-config",Wm="@firebase/remote-config-compat",Gm="@firebase/storage",Hm="@firebase/storage-compat",Qm="@firebase/firestore",Ym="@firebase/ai",Jm="@firebase/firestore-compat",Xm="firebase",Zm="11.10.0";var Co="[DEFAULT]",eg={[Ro]:"fire-core",[Pm]:"fire-core-compat",[Cm]:"fire-analytics",[Rm]:"fire-analytics-compat",[Dm]:"fire-app-check",[km]:"fire-app-check-compat",[Nm]:"fire-auth",[Om]:"fire-auth-compat",[Vm]:"fire-rtdb",[xm]:"fire-data-connect",[Mm]:"fire-rtdb-compat",[Lm]:"fire-fn",[Fm]:"fire-fn-compat",[Um]:"fire-iid",[Bm]:"fire-iid-compat",[qm]:"fire-fcm",[$m]:"fire-fcm-compat",[jm]:"fire-perf",[zm]:"fire-perf-compat",[Km]:"fire-rc",[Wm]:"fire-rc-compat",[Gm]:"fire-gcs",[Hm]:"fire-gcs-compat",[Qm]:"fire-fst",[Jm]:"fire-fst-compat",[Ym]:"fire-vertex","fire-js":"fire-js",[Xm]:"fire-js-all"};var Jn=new Map,tg=new Map,ko=new Map;function ah(n,e){try{n.container.addComponent(e)}catch(t){tt.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Le(n){let e=n.name;if(ko.has(e))return tt.debug(`There were multiple attempts to register component ${e}.`),!1;ko.set(e,n);for(let t of Jn.values())ah(t,n);for(let t of tg.values())ah(t,n);return!0}function pn(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ke(n){return n==null?!1:n.settings!==void 0}var ng={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vt=new Me("app","Firebase",ng);var Do=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new pe("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vt.create("app-deleted",{appName:this._name})}};var Et=Zm;function Vo(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Co,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw vt.create("bad-app-name",{appName:String(s)});if(t||(t=yo()),!t)throw vt.create("no-options");let o=Jn.get(s);if(o){if($e(t,o.options)&&$e(r,o.config))return o;throw vt.create("duplicate-app",{appName:s})}let c=new di(s);for(let d of ko.values())c.addComponent(d);let l=new Do(t,r,c);return Jn.set(s,l),l}function Bt(n=Co){let e=Jn.get(n);if(!e&&n===Co&&yo())return Vo();if(!e)throw vt.create("no-app",{appName:n});return e}function pi(){return Array.from(Jn.values())}function re(n,e,t){var r;let s=(r=eg[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);let o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){let l=[`Unable to register library "${s}" with version "${e}":`];o&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&l.push("and"),c&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),tt.warn(l.join(" "));return}Le(new pe(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}var rg="firebase-heartbeat-database",ig=1,Xn="firebase-heartbeat-store",So=null;function hh(){return So||(So=sh(rg,ig,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Xn)}catch(t){console.warn(t)}}}}).catch(n=>{throw vt.create("idb-open",{originalErrorMessage:n.message})})),So}function sg(n){return T(this,null,function*(){try{let t=(yield hh()).transaction(Xn),r=yield t.objectStore(Xn).get(dh(n));return yield t.done,r}catch(e){if(e instanceof Ie)tt.warn(e.message);else{let t=vt.create("idb-get",{originalErrorMessage:e?.message});tt.warn(t.message)}}})}function ch(n,e){return T(this,null,function*(){try{let r=(yield hh()).transaction(Xn,"readwrite");yield r.objectStore(Xn).put(e,dh(n)),yield r.done}catch(t){if(t instanceof Ie)tt.warn(t.message);else{let r=vt.create("idb-set",{originalErrorMessage:t?.message});tt.warn(r.message)}}})}function dh(n){return`${n.name}!${n.options.appId}`}var og=1024,ag=30,No=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Oo(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return T(this,null,function*(){var e,t;try{let s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=uh();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>ag){let c=ug(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){tt.warn(r)}})}getHeartbeatsHeader(){return T(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=uh(),{heartbeatsToSend:r,unsentEntries:s}=cg(this._heartbeatsCache.heartbeats),o=Hn(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return tt.warn(t),""}})}};function uh(){return new Date().toISOString().substring(0,10)}function cg(n,e=og){let t=[],r=n.slice();for(let s of n){let o=t.find(c=>c.agent===s.agent);if(o){if(o.dates.push(s.date),lh(t)>e){o.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),lh(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Oo=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return T(this,null,function*(){return Qn()?Yl().then(()=>!0).catch(()=>!1):!1})}read(){return T(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield sg(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return T(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let s=yield this.read();return ch(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return T(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let s=yield this.read();return ch(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return})}};function lh(n){return Hn(JSON.stringify({version:2,heartbeats:n})).length}function ug(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function lg(n){Le(new pe("platform-logger",e=>new Po(e),"PRIVATE")),Le(new pe("heartbeat",e=>new No(e),"PRIVATE")),re(Ro,oh,n),re(Ro,oh,"esm2017"),re("fire-js","")}lg("");var hg="firebase",dg="11.10.0";re(hg,dg,"app");var wt=new gu("ANGULARFIRE2_VERSION");function Zn(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(c=>c.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var gn=(n,e)=>{let t=e?[e]:pi(),r=[];return t.forEach(s=>{s.container.getProvider(n).instances.forEach(c=>{r.includes(c)||r.push(c)})}),r},mn=(function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n})(mn||{}),fh=Os()&&typeof Zone<"u"?mn.WARN:mn.SILENT;var mi=class{zone;delegate;constructor(e,t=Qc){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let s=this.zone,o=function(c){s?s.runGuarded(()=>{e.apply(this,[c])}):e.apply(this,[c])};return this.delegate.schedule(o,t,r)}},Tt=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=Z(Pe);this.outsideAngular=t.runOutsideAngular(()=>new mi(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new mi(typeof Zone>"u"?void 0:Zone.current,Hc))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=sn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ph=!1;function fg(n,e){!ph&&(fh>mn.SILENT||Os())&&(ph=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),fh>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function pg(n){let e=Z(Pe,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function qt(n){let e=Z(Pe,{optional:!0});return e?e.run(()=>n()):n()}var mg=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),Mr(t,()=>qt(()=>n.apply(void 0,r)))),$t=(n,e,t)=>(t||=e?mn.WARN:mn.VERBOSE,function(){let r,s=arguments,o,c,l;try{o=Z(Tt),c=Z(eu),l=Z(Jc)}catch{return fg(n,t),n.apply(this,s)}for(let f=0;f<arguments.length;f++)typeof s[f]=="function"&&(e&&(r||=qt(()=>c.add())),s[f]=mg(s[f],r,l));let d=pg(()=>n.apply(this,s));return e?d instanceof vs?d.pipe(Ts(o.outsideAngular),ws(o.insideAngular),Vu(l)):d instanceof Promise?qt(()=>{let f=c.add();return new Promise((A,S)=>{d.then(b=>Mr(l,()=>qt(()=>A(b))),b=>Mr(l,()=>qt(()=>S(b)))).finally(f)})}):typeof d=="function"&&r?function(){return setTimeout(r,0),d.apply(this,arguments)}:qt(()=>d):d instanceof vs?d.pipe(Ts(o.outsideAngular),ws(o.insideAngular)):qt(()=>d)});var nt=class{constructor(e){return e}},jt=class{constructor(){return pi()}};function gg(n){return n&&n.length===1?n[0]:new nt(Bt())}var xo=new on("angularfire2._apps"),_g={provide:nt,useFactory:gg,deps:[[new Se,xo]]},yg={provide:jt,deps:[[new Se,xo]]};function vg(n){return(e,t)=>{let r=t.get(nu);re("angularfire",wt.full,"core"),re("angularfire",wt.full,"app"),re("angular",_u.full,r.toString());let s=e.runOutsideAngular(()=>n(t));return new nt(s)}}function mh(n,...e){return an([_g,yg,{provide:xo,useFactory:vg(n),multi:!0,deps:[Pe,cn,Tt,...e]}])}var gh=$t(Vo,!0);var Eg=new Map,wg={activated:!1,tokenObservers:[]},Tg={initialized:!1,enabled:!1};function Fe(n){return Eg.get(n)||Object.assign({},wg)}function Eh(){return Tg}var Ig="https://content-firebaseappcheck.googleapis.com/v1";var Ag="exchangeDebugToken",_h={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},vT=1440*60*1e3;var Fo=class{constructor(e,t,r,s,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=s,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=s,s>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return T(this,null,function*(){this.stop();try{this.pending=new Lt,this.pending.promise.catch(t=>{}),yield bg(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Lt,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function bg(n){return new Promise(e=>{setTimeout(e,n)})}var Sg={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},It=new Me("appCheck","AppCheck",Sg);function wh(n){if(!Fe(n).activated)throw It.create("use-before-activation",{appName:n.name})}function Th(r,s){return T(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},c=t.getImmediate({optional:!0});if(c){let R=yield c.getHeartbeatsHeader();R&&(o["X-Firebase-Client"]=R)}let l={method:"POST",body:JSON.stringify(e),headers:o},d;try{d=yield fetch(n,l)}catch(R){throw It.create("fetch-network-error",{originalErrorMessage:R?.message})}if(d.status!==200)throw It.create("fetch-status-error",{httpStatus:d.status});let f;try{f=yield d.json()}catch(R){throw It.create("fetch-parse-error",{originalErrorMessage:R?.message})}let A=f.ttl.match(/^([\d.]+)(s)$/);if(!A||!A[2]||isNaN(Number(A[1])))throw It.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});let S=Number(A[1])*1e3,b=Date.now();return{token:f.token,expireTimeMillis:b+S,issuedAtTimeMillis:b}})}function Ih(n,e){let{projectId:t,appId:r,apiKey:s}=n.options;return{url:`${Ig}/projects/${t}/apps/${r}:${Ag}?key=${s}`,body:{debug_token:e}}}var Pg="firebase-app-check-database",Rg=1,Uo="firebase-app-check-store";var gi=null;function Cg(){return gi||(gi=new Promise((n,e)=>{try{let t=indexedDB.open(Pg,Rg);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var s;e(It.create("storage-open",{originalErrorMessage:(s=r.target.error)===null||s===void 0?void 0:s.message}))},t.onupgradeneeded=r=>{let s=r.target.result;switch(r.oldVersion){case 0:s.createObjectStore(Uo,{keyPath:"compositeKey"})}}}catch(t){e(It.create("storage-open",{originalErrorMessage:t?.message}))}}),gi)}function kg(n,e){return Dg(Ng(n),e)}function Dg(n,e){return T(this,null,function*(){let r=(yield Cg()).transaction(Uo,"readwrite"),o=r.objectStore(Uo).put({compositeKey:n,value:e});return new Promise((c,l)=>{o.onsuccess=d=>{c()},r.onerror=d=>{var f;l(It.create("storage-set",{originalErrorMessage:(f=d.target.error)===null||f===void 0?void 0:f.message}))}})})}function Ng(n){return`${n.options.appId}-${n.name}`}var er=new je("@firebase/app-check");function Mo(n,e){return Qn()?kg(n,e).catch(t=>{er.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Ah(){return Eh().enabled}function bh(){return T(this,null,function*(){let n=Eh();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var Og={error:"UNKNOWN_ERROR"};function Vg(n){return ci.encodeString(JSON.stringify(n),!1)}function Bo(n,e=!1,t=!1){return T(this,null,function*(){let r=n.app;wh(r);let s=Fe(r),o=s.token,c;if(o&&!tr(o)&&(s.token=void 0,o=void 0),!o){let f=yield s.cachedTokenPromise;f&&(tr(f)?o=f:yield Mo(r,void 0))}if(!e&&o&&tr(o))return{token:o.token};let l=!1;if(Ah())try{s.exchangeTokenPromise||(s.exchangeTokenPromise=Th(Ih(r,yield bh()),n.heartbeatServiceProvider).finally(()=>{s.exchangeTokenPromise=void 0}),l=!0);let f=yield s.exchangeTokenPromise;return yield Mo(r,f),s.token=f,{token:f.token}}catch(f){return f.code==="appCheck/throttled"||f.code==="appCheck/initial-throttle"?er.warn(f.message):t&&er.error(f),Lo(f)}try{s.exchangeTokenPromise||(s.exchangeTokenPromise=s.provider.getToken().finally(()=>{s.exchangeTokenPromise=void 0}),l=!0),o=yield Fe(r).exchangeTokenPromise}catch(f){f.code==="appCheck/throttled"||f.code==="appCheck/initial-throttle"?er.warn(f.message):t&&er.error(f),c=f}let d;return o?c?tr(o)?d={token:o.token,internalError:c}:d=Lo(c):(d={token:o.token},s.token=o,yield Mo(r,o)):d=Lo(c),l&&Fg(r,d),d})}function xg(n){return T(this,null,function*(){let e=n.app;wh(e);let{provider:t}=Fe(e);if(Ah()){let r=yield bh(),{token:s}=yield Th(Ih(e,r),n.heartbeatServiceProvider);return{token:s}}else{let{token:r}=yield t.getToken();return{token:r}}})}function Mg(n,e,t,r){let{app:s}=n,o=Fe(s),c={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,c],o.token&&tr(o.token)){let l=o.token;Promise.resolve().then(()=>{t({token:l.token}),yh(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>yh(n))}function Sh(n,e){let t=Fe(n),r=t.tokenObservers.filter(s=>s.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function yh(n){let{app:e}=n,t=Fe(e),r=t.tokenRefresher;r||(r=Lg(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Lg(n){let{app:e}=n;return new Fo(()=>T(null,null,function*(){let t=Fe(e),r;if(t.token?r=yield Bo(n,!0):r=yield Bo(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=Fe(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,s=t.token.expireTimeMillis-300*1e3;return r=Math.min(r,s),Math.max(0,r-Date.now())}else return 0},_h.RETRIAL_MIN_WAIT,_h.RETRIAL_MAX_WAIT)}function Fg(n,e){let t=Fe(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function tr(n){return n.expireTimeMillis-Date.now()>0}function Lo(n){return{token:Vg(Og),error:n}}var qo=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=Fe(this.app);for(let t of e)Sh(this.app,t.next);return Promise.resolve()}};function Ug(n,e){return new qo(n,e)}function Bg(n){return{getToken:e=>Bo(n,e),getLimitedUseToken:()=>xg(n),addTokenListener:e=>Mg(n,"INTERNAL",e),removeTokenListener:e=>Sh(n.app,e)}}var qg="@firebase/app-check",$g="0.10.1";var jg="app-check",vh="app-check-internal";function zg(){Le(new pe(jg,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return Ug(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(vh).initialize()})),Le(new pe(vh,n=>{let e=n.getProvider("app-check").getImmediate();return Bg(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),re(qg,$g)}zg();var Kg="app-check";var _n=class{constructor(){return gn(Kg)}};var Wg=["localhost","0.0.0.0","127.0.0.1"],NT=typeof window<"u"&&Wg.includes(window.location.hostname);function qh(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var $h=qh,jh=new Me("auth","Firebase",qh());var Ti=new je("@firebase/auth");function Gg(n,...e){Ti.logLevel<=G.WARN&&Ti.warn(`Auth (${Et}): ${n}`,...e)}function yi(n,...e){Ti.logLevel<=G.ERROR&&Ti.error(`Auth (${Et}): ${n}`,...e)}function St(n,...e){throw aa(n,...e)}function Kt(n,...e){return aa(n,...e)}function zh(n,e,t){let r=Object.assign(Object.assign({},$h()),{[e]:t});return new Me("auth","Firebase",r).create(e,{appName:n.name})}function zt(n){return zh(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function aa(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return jh.create(n,...e)}function x(n,e,...t){if(!n)throw aa(e,...t)}function rt(n){let e="INTERNAL ASSERTION FAILED: "+n;throw yi(e),new Error(e)}function Pt(n,e){n||rt(e)}function Ko(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Hg(){return Ph()==="http:"||Ph()==="https:"}function Ph(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function Qg(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Hg()||Gl()||"connection"in navigator)?navigator.onLine:!0}function Yg(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Wt=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Pt(t>e,"Short delay should be less than long delay!"),this.isMobile=Kl()||Hl()}get(){return Qg()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function ca(n,e){Pt(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Ii=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Jg={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Xg=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Zg=new Wt(3e4,6e4);function ua(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function yn(o,c,l,d){return T(this,arguments,function*(n,e,t,r,s={}){return Kh(n,s,()=>T(null,null,function*(){let f={},A={};r&&(e==="GET"?A=r:f={body:JSON.stringify(r)});let S=Yn(Object.assign({key:n.config.apiKey},A)).slice(1),b=yield n._getAdditionalHeaders();b["Content-Type"]="application/json",n.languageCode&&(b["X-Firebase-Locale"]=n.languageCode);let R=Object.assign({method:e,headers:b},f);return Wl()||(R.referrerPolicy="no-referrer"),n.emulatorConfig&&Ft(n.emulatorConfig.host)&&(R.credentials="include"),Ii.fetch()(yield Wh(n,n.config.apiHost,t,S),R)}))})}function Kh(n,e,t){return T(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},Jg),e);try{let s=new Wo(n),o=yield Promise.race([t(),s.promise]);s.clearNetworkTimeout();let c=yield o.json();if("needConfirmation"in c)throw _i(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{let l=o.ok?c.errorMessage:c.error.message,[d,f]=l.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw _i(n,"credential-already-in-use",c);if(d==="EMAIL_EXISTS")throw _i(n,"email-already-in-use",c);if(d==="USER_DISABLED")throw _i(n,"user-disabled",c);let A=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw zh(n,A,f);St(n,A)}}catch(s){if(s instanceof Ie)throw s;St(n,"network-request-failed",{message:String(s)})}})}function e_(o,c,l,d){return T(this,arguments,function*(n,e,t,r,s={}){let f=yield yn(n,e,t,r,s);return"mfaPendingCredential"in f&&St(n,"multi-factor-auth-required",{_serverResponse:f}),f})}function Wh(n,e,t,r){return T(this,null,function*(){let s=`${e}${t}?${r}`,o=n,c=o.config.emulator?ca(n.config,s):`${n.config.apiScheme}://${s}`;return Xg.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c})}var Wo=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Kt(this.auth,"network-request-failed")),Zg.get())})}};function _i(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let s=Kt(n,e,r);return s.customData._tokenResponse=t,s}function t_(n,e){return T(this,null,function*(){return yn(n,"POST","/v1/accounts:delete",e)})}function Ai(n,e){return T(this,null,function*(){return yn(n,"POST","/v1/accounts:lookup",e)})}function nr(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function la(n,e=!1){return T(this,null,function*(){let t=et(n),r=yield t.getIdToken(e),s=ha(r);x(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");let o=typeof s.firebase=="object"?s.firebase:void 0,c=o?.sign_in_provider;return{claims:s,token:r,authTime:nr($o(s.auth_time)),issuedAtTime:nr($o(s.iat)),expirationTime:nr($o(s.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function $o(n){return Number(n)*1e3}function ha(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return yi("JWT malformed, contained fewer than 3 sections"),null;try{let s=ui(t);return s?JSON.parse(s):(yi("Failed to decode base64 JWT payload"),null)}catch(s){return yi("Caught error parsing JWT payload as JSON",s?.toString()),null}}function Rh(n){let e=ha(n);return x(e,"internal-error"),x(typeof e.exp<"u","internal-error"),x(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function ir(n,e,t=!1){return T(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Ie&&n_(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function n_({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Go=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>T(this,null,function*(){yield this.iteration()}),t)}iteration(){return T(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var sr=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=nr(this.lastLoginAt),this.creationTime=nr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function bi(n){return T(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),s=yield ir(n,Ai(t,{idToken:r}));x(s?.users.length,t,"internal-error");let o=s.users[0];n._notifyReloadListener(o);let c=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Gh(o.providerUserInfo):[],l=r_(n.providerData,c),d=n.isAnonymous,f=!(n.email&&o.passwordHash)&&!l?.length,A=d?f:!1,S={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new sr(o.createdAt,o.lastLoginAt),isAnonymous:A};Object.assign(n,S)})}function da(n){return T(this,null,function*(){let e=et(n);yield bi(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function r_(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Gh(n){return n.map(e=>{var{providerId:t}=e,r=Es(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function i_(n,e){return T(this,null,function*(){let t=yield Kh(n,{},()=>T(null,null,function*(){let r=Yn({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=n.config,c=yield Wh(n,s,"/v1/token",`key=${o}`),l=yield n._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";let d={method:"POST",headers:l,body:r};return n.emulatorConfig&&Ft(n.emulatorConfig.host)&&(d.credentials="include"),Ii.fetch()(c,d)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function s_(n,e){return T(this,null,function*(){return yn(n,"POST","/v2/accounts:revokeToken",ua(n,e))})}var rr=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){x(e.idToken,"internal-error"),x(typeof e.idToken<"u","internal-error"),x(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Rh(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){x(e.length!==0,"internal-error");let t=Rh(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return T(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(x(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return T(this,null,function*(){let{accessToken:r,refreshToken:s,expiresIn:o}=yield i_(e,t);this.updateTokensAndExpiration(r,s,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:s,expirationTime:o}=t,c=new n;return r&&(x(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),s&&(x(typeof s=="string","internal-error",{appName:e}),c.accessToken=s),o&&(x(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return rt("not implemented")}};function At(n,e){x(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var bt=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,o=Es(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Go(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new sr(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return T(this,null,function*(){let t=yield ir(this,this.stsTokenManager.getToken(this.auth,e));return x(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return la(this,e)}reload(){return da(this)}_assign(e){this!==e&&(x(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){x(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return T(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield bi(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return T(this,null,function*(){if(ke(this.auth.app))return Promise.reject(zt(this.auth));let e=yield this.getIdToken();return yield ir(this,t_(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,o,c,l,d,f,A;let S=(r=t.displayName)!==null&&r!==void 0?r:void 0,b=(s=t.email)!==null&&s!==void 0?s:void 0,R=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,P=(c=t.photoURL)!==null&&c!==void 0?c:void 0,k=(l=t.tenantId)!==null&&l!==void 0?l:void 0,V=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,z=(f=t.createdAt)!==null&&f!==void 0?f:void 0,L=(A=t.lastLoginAt)!==null&&A!==void 0?A:void 0,{uid:U,emailVerified:W,isAnonymous:me,providerData:Q,stsTokenManager:y}=t;x(U&&y,e,"internal-error");let p=rr.fromJSON(this.name,y);x(typeof U=="string",e,"internal-error"),At(S,e.name),At(b,e.name),x(typeof W=="boolean",e,"internal-error"),x(typeof me=="boolean",e,"internal-error"),At(R,e.name),At(P,e.name),At(k,e.name),At(V,e.name),At(z,e.name),At(L,e.name);let m=new n({uid:U,auth:e,email:b,emailVerified:W,displayName:S,isAnonymous:me,photoURL:P,phoneNumber:R,tenantId:k,stsTokenManager:p,createdAt:z,lastLoginAt:L});return Q&&Array.isArray(Q)&&(m.providerData=Q.map(_=>Object.assign({},_))),V&&(m._redirectEventId=V),m}static _fromIdTokenResponse(e,t,r=!1){return T(this,null,function*(){let s=new rr;s.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return yield bi(o),o})}static _fromGetAccountInfoResponse(e,t,r){return T(this,null,function*(){let s=t.users[0];x(s.localId!==void 0,"internal-error");let o=s.providerUserInfo!==void 0?Gh(s.providerUserInfo):[],c=!(s.email&&s.passwordHash)&&!o?.length,l=new rr;l.updateFromIdToken(r);let d=new n({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:c}),f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new sr(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!o?.length};return Object.assign(d,f),d})}};var Ch=new Map;function it(n){Pt(n instanceof Function,"Expected a class definition");let e=Ch.get(n);return e?(Pt(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Ch.set(n,e),e)}var o_=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return T(this,null,function*(){return!0})}_set(t,r){return T(this,null,function*(){this.storage[t]=r})}_get(t){return T(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return T(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),Ho=o_;function vi(n,e,t){return`firebase:${n}:${e}:${t}`}var Si=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:s,name:o}=this.auth;this.fullUserKey=vi(this.userKey,s.apiKey,o),this.fullPersistenceKey=vi("persistence",s.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return T(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield Ai(this.auth,{idToken:e}).catch(()=>{});return t?bt._fromGetAccountInfoResponse(this.auth,t,e):null}return bt._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return T(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return T(this,null,function*(){if(!t.length)return new n(it(Ho),e,r);let s=(yield Promise.all(t.map(f=>T(null,null,function*(){if(yield f._isAvailable())return f})))).filter(f=>f),o=s[0]||it(Ho),c=vi(r,e.config.apiKey,e.name),l=null;for(let f of t)try{let A=yield f._get(c);if(A){let S;if(typeof A=="string"){let b=yield Ai(e,{idToken:A}).catch(()=>{});if(!b)break;S=yield bt._fromGetAccountInfoResponse(e,b,A)}else S=bt._fromJSON(e,A);f!==o&&(l=S),o=f;break}}catch{}let d=s.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new n(o,e,r):(o=d[0],l&&(yield o._set(c,l.toJSON())),yield Promise.all(t.map(f=>T(null,null,function*(){if(f!==o)try{yield f._remove(c)}catch{}}))),new n(o,e,r))})}};function kh(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Jh(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Hh(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Zh(e))return"Blackberry";if(ed(e))return"Webos";if(Qh(e))return"Safari";if((e.includes("chrome/")||Yh(e))&&!e.includes("edge/"))return"Chrome";if(Xh(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function Hh(n=ae()){return/firefox\//i.test(n)}function Qh(n=ae()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Yh(n=ae()){return/crios\//i.test(n)}function Jh(n=ae()){return/iemobile/i.test(n)}function Xh(n=ae()){return/android/i.test(n)}function Zh(n=ae()){return/blackberry/i.test(n)}function ed(n=ae()){return/webos/i.test(n)}function fa(n=ae()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function a_(n=ae()){var e;return fa(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function c_(){return Ql()&&document.documentMode===10}function td(n=ae()){return fa(n)||Xh(n)||ed(n)||Zh(n)||/windows phone/i.test(n)||Jh(n)}function nd(n,e=[]){let t;switch(n){case"Browser":t=kh(ae());break;case"Worker":t=`${kh(ae())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Et}/${r}`}var Qo=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((c,l)=>{try{let d=e(o);c(d)}catch(d){l(d)}});r.onAbort=t,this.queue.push(r);let s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}runMiddleware(e){return T(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function u_(t){return T(this,arguments,function*(n,e={}){return yn(n,"GET","/v2/passwordPolicy",ua(n,e))})}var l_=6,Yo=class{constructor(e){var t,r,s,o;let c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:l_,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,o,c,l;let d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(s=d.containsLowercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(c=d.containsNumericCharacter)!==null&&c!==void 0?c:!0),d.isValid&&(d.isValid=(l=d.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),d}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Jo=class{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pi(this),this.idTokenSubscription=new Pi(this),this.beforeStateQueue=new Qo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jh,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=it(t)),this._initializationPromise=this.queue(()=>T(this,null,function*(){var r,s,o;if(!this._deleted&&(this.persistenceManager=yield Si.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return T(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return T(this,null,function*(){try{let t=yield Ai(this,{idToken:e}),r=yield bt._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return T(this,null,function*(){var t;if(ke(this.app)){let c=this.app.settings.authIdToken;return c?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(l,l))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),s=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,l=s?._redirectEventId,d=yield this.tryRedirectSignIn(e);(!c||c===l)&&d?.user&&(s=d.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(s)}catch(c){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return x(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)})}tryRedirectSignIn(e){return T(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return T(this,null,function*(){try{yield bi(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Yg()}_delete(){return T(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return T(this,null,function*(){if(ke(this.app))return Promise.reject(zt(this));let t=e?et(e):null;return t&&x(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return T(this,null,function*(){if(!this._deleted)return e&&x(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>T(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return T(this,null,function*(){return ke(this.app)?Promise.reject(zt(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return ke(this.app)?Promise.reject(zt(this)):this.queue(()=>T(this,null,function*(){yield this.assertedPersistence.setPersistence(it(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return T(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return T(this,null,function*(){let e=yield u_(this),t=new Yo(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Me("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return T(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield s_(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return T(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return T(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&it(e)||this._popupRedirectResolver;x(t,this,"argument-error"),this.redirectPersistenceManager=yield Si.create(this,[it(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return T(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>T(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return T(this,null,function*(){if(e===this.currentUser)return this.queue(()=>T(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),c=!1,l=this._isInitialized?Promise.resolve():this._initializationPromise;if(x(l,this,"internal-error"),l.then(()=>{c||o(this.currentUser)}),typeof t=="function"){let d=e.addObserver(t,r,s);return()=>{c=!0,d()}}else{let d=e.addObserver(t);return()=>{c=!0,d()}}}directlySetCurrentUser(e){return T(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return x(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nd(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return T(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let s=yield this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t})}_getAppCheckToken(){return T(this,null,function*(){var e;if(ke(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&Gg(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function pa(n){return et(n)}var Pi=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Xl(t=>this.observer=t)}get next(){return x(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var ma={loadJS(){return T(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function h_(n){ma=n}function d_(n){return ma.loadJS(n)}function f_(){return ma.gapiScript}function rd(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function ga(n,e){let t=pn(n,"auth");if(t.isInitialized()){let s=t.getImmediate(),o=t.getOptions();if($e(o,e??{}))return s;St(s,"already-initialized")}return t.initialize({options:e})}function p_(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(it);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function _a(n,e,t){let r=pa(n);x(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let s=!!t?.disableWarnings,o=id(e),{host:c,port:l}=m_(e),d=l===null?"":`:${l}`,f={url:`${o}//${c}${d}/`},A=Object.freeze({host:c,port:l,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){x(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),x($e(f,r.config.emulator)&&$e(A,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=A,r.settings.appVerificationDisabledForTesting=!0,Ft(c)?(li(`${o}//${c}${d}`),hi("Auth",!0)):s||g_()}function id(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function m_(n){let e=id(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){let o=s[1];return{host:o,port:Dh(r.substr(o.length+1))}}else{let[o,c]=r.split(":");return{host:o,port:Dh(c)}}}function Dh(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function g_(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Ri=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return rt("not implemented")}_getIdTokenResponse(e){return rt("not implemented")}_linkToIdToken(e,t){return rt("not implemented")}_getReauthenticationResolver(e){return rt("not implemented")}};function jo(n,e){return T(this,null,function*(){return e_(n,"POST","/v1/accounts:signInWithIdp",ua(n,e))})}var Ci=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Xo=class extends Ci{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var or=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,s=!1){return T(this,null,function*(){let o=yield bt._fromIdTokenResponse(e,r,s),c=Nh(r);return new n({user:o,providerId:c,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return T(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let s=Nh(r);return new n({user:e,providerId:s,_tokenResponse:r,operationType:t})})}};function Nh(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var Zo=class n extends Ie{constructor(e,t,r,s){var o;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new n(e,t,r,s)}};function sd(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Zo._fromErrorAndOperation(n,o,e,r):o})}function __(n,e,t=!1){return T(this,null,function*(){let r=yield ir(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return or._forOperation(n,"link",r)})}function y_(n,e,t=!1){return T(this,null,function*(){let{auth:r}=n;if(ke(r.app))return Promise.reject(zt(r));let s="reauthenticate";try{let o=yield ir(n,sd(r,s,e,n),t);x(o.idToken,r,"internal-error");let c=ha(o.idToken);x(c,r,"internal-error");let{sub:l}=c;return x(n.uid===l,r,"user-mismatch"),or._forOperation(n,s,o)}catch(o){throw o?.code==="auth/user-not-found"&&St(r,"user-mismatch"),o}})}function v_(n,e,t=!1){return T(this,null,function*(){if(ke(n.app))return Promise.reject(zt(n));let r="signIn",s=yield sd(n,r,e),o=yield or._fromIdTokenResponse(n,r,s);return t||(yield n._updateCurrentUser(o.user)),o})}function ya(n,e,t,r){return et(n).onIdTokenChanged(e,t,r)}function va(n,e,t){return et(n).beforeAuthStateChanged(e,t)}var ki="__sak";var Di=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ki,"1"),this.storage.removeItem(ki),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var E_=1e3,w_=10,T_=(()=>{class n extends Di{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=td(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let s=this.storage.getItem(r),o=this.localCache[r];s!==o&&t(r,o,s)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((l,d,f)=>{this.notifyListeners(l,f)});return}let s=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let l=this.storage.getItem(s);!r&&this.localCache[s]===l||this.notifyListeners(s,l)},c=this.storage.getItem(s);c_()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,w_):o()}notifyListeners(t,r){this.localCache[t]=r;let s=this.listeners[t];if(s)for(let o of Array.from(s))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:s}),!0)})},E_)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return T(this,null,function*(){yield pt(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return T(this,null,function*(){let r=yield pt(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return T(this,null,function*(){yield pt(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),od=T_;var I_=(()=>{class n extends Di{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),Ea=I_;function A_(n){return Promise.all(n.map(e=>T(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var b_=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let s=new n(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}handleEvent(t){return T(this,null,function*(){let r=t,{eventId:s,eventType:o,data:c}=r.data,l=this.handlersMap[o];if(!l?.size)return;r.ports[0].postMessage({status:"ack",eventId:s,eventType:o});let d=Array.from(l).map(A=>T(this,null,function*(){return A(r.origin,c)})),f=yield A_(d);r.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:f})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function ad(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var ea=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return T(this,null,function*(){let s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,c;return new Promise((l,d)=>{let f=ad("",20);s.port1.start();let A=setTimeout(()=>{d(new Error("unsupported_event"))},r);c={messageChannel:s,onMessage(S){let b=S;if(b.data.eventId===f)switch(b.data.status){case"ack":clearTimeout(A),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(b.data.response);break;default:clearTimeout(A),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(c),s.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[s.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})})}};function Ke(){return window}function S_(n){Ke().location.href=n}function cd(){return typeof Ke().WorkerGlobalScope<"u"&&typeof Ke().importScripts=="function"}function P_(){return T(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function R_(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function C_(){return cd()?self:null}var ud="firebaseLocalStorageDb",k_=1,Ni="firebaseLocalStorage",ld="fbase_key",Gt=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Vi(n,e){return n.transaction([Ni],e?"readwrite":"readonly").objectStore(Ni)}function D_(){let n=indexedDB.deleteDatabase(ud);return new Gt(n).toPromise()}function ta(){let n=indexedDB.open(ud,k_);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Ni,{keyPath:ld})}catch(s){t(s)}}),n.addEventListener("success",()=>T(null,null,function*(){let r=n.result;r.objectStoreNames.contains(Ni)?e(r):(r.close(),yield D_(),e(yield ta()))}))})}function Oh(n,e,t){return T(this,null,function*(){let r=Vi(n,!0).put({[ld]:e,value:t});return new Gt(r).toPromise()})}function N_(n,e){return T(this,null,function*(){let t=Vi(n,!1).get(e),r=yield new Gt(t).toPromise();return r===void 0?null:r.value})}function Vh(n,e){let t=Vi(n,!0).delete(e);return new Gt(t).toPromise()}var O_=800,V_=3,x_=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return T(this,null,function*(){return this.db?this.db:(this.db=yield ta(),this.db)})}_withRetries(t){return T(this,null,function*(){let r=0;for(;;)try{let s=yield this._openDb();return yield t(s)}catch(s){if(r++>V_)throw s;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return T(this,null,function*(){return cd()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return T(this,null,function*(){this.receiver=b_._getInstance(C_()),this.receiver._subscribe("keyChanged",(t,r)=>T(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>T(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return T(this,null,function*(){var t,r;if(this.activeServiceWorker=yield P_(),!this.activeServiceWorker)return;this.sender=new ea(this.activeServiceWorker);let s=yield this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((r=s[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return T(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||R_()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return T(this,null,function*(){try{if(!indexedDB)return!1;let t=yield ta();return yield Oh(t,ki,"1"),yield Vh(t,ki),!0}catch{}return!1})}_withPendingWrite(t){return T(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return T(this,null,function*(){return this._withPendingWrite(()=>T(this,null,function*(){return yield this._withRetries(s=>Oh(s,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return T(this,null,function*(){let r=yield this._withRetries(s=>N_(s,t));return this.localCache[t]=r,r})}_remove(t){return T(this,null,function*(){return this._withPendingWrite(()=>T(this,null,function*(){return yield this._withRetries(r=>Vh(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return T(this,null,function*(){let t=yield this._withRetries(o=>{let c=Vi(o,!1).getAll();return new Gt(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],s=new Set;if(t.length!==0)for(let{fbase_key:o,value:c}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let s=this.listeners[t];if(s)for(let o of Array.from(s))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>T(this,null,function*(){return this._poll()}),O_)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),hd=x_;var $T=rd("rcb"),jT=new Wt(3e4,6e4);function M_(n,e){return e?it(e):(x(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var ar=class extends Ri{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return jo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return jo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return jo(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function L_(n){return v_(n.auth,new ar(n),n.bypassAuthState)}function F_(n){let{auth:e,user:t}=n;return x(t,e,"internal-error"),y_(t,new ar(n),n.bypassAuthState)}function U_(n){return T(this,null,function*(){let{auth:e,user:t}=n;return x(t,e,"internal-error"),__(t,new ar(n),n.bypassAuthState)})}var na=class{constructor(e,t,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>T(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return T(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:s,tenantId:o,error:c,type:l}=e;if(c){this.reject(c);return}let d={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(l)(d))}catch(f){this.reject(f)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return L_;case"linkViaPopup":case"linkViaRedirect":return U_;case"reauthViaPopup":case"reauthViaRedirect":return F_;default:St(this.auth,"internal-error")}}resolve(e){Pt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var zT=new Wt(2e3,1e4);var B_="pendingRedirect",Ei=new Map,ra=class n extends na{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return T(this,null,function*(){let e=Ei.get(this.auth._key());if(!e){try{let r=(yield q_(this.resolver,this.auth))?yield pt(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Ei.set(this.auth._key(),e)}return this.bypassAuthState||Ei.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return T(this,null,function*(){if(e.type==="signInViaRedirect")return pt(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,pt(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return T(this,null,function*(){})}cleanUp(){}};function q_(n,e){return T(this,null,function*(){let t=z_(e),r=j_(n);if(!(yield r._isAvailable()))return!1;let s=(yield r._get(t))==="true";return yield r._remove(t),s})}function $_(n,e){Ei.set(n._key(),e)}function j_(n){return it(n._redirectPersistence)}function z_(n){return vi(B_,n.config.apiKey,n.name)}function K_(n,e,t=!1){return T(this,null,function*(){if(ke(n.app))return Promise.reject(zt(n));let r=pa(n),s=M_(r,e),c=yield new ra(r,s,t).execute();return c&&!t&&(delete c.user._redirectEventId,yield r._persistUserIfCurrent(c.user),yield r._setRedirectUser(null,e)),c})}var W_=600*1e3,ia=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!G_(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!dd(e)){let s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Kt(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=W_&&this.cachedEventUids.clear(),this.cachedEventUids.has(xh(e))}saveEventToCache(e){this.cachedEventUids.add(xh(e)),this.lastProcessedEventTime=Date.now()}};function xh(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function dd({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function G_(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dd(n);default:return!1}}function H_(t){return T(this,arguments,function*(n,e={}){return yn(n,"GET","/v1/projects",e)})}var Q_=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Y_=/^https?/;function J_(n){return T(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield H_(n);for(let t of e)try{if(X_(t))return}catch{}St(n,"unauthorized-domain")})}function X_(n){let e=Ko(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let c=new URL(n);return c.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===r}if(!Y_.test(t))return!1;if(Q_.test(n))return r===n;let s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}var Z_=new Wt(3e4,6e4);function Mh(){let n=Ke().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function ey(n){return new Promise((e,t)=>{var r,s,o;function c(){Mh(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Mh(),t(Kt(n,"network-request-failed"))},timeout:Z_.get()})}if(!((s=(r=Ke().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=Ke().gapi)===null||o===void 0)&&o.load)c();else{let l=rd("iframefcb");return Ke()[l]=()=>{gapi.load?c():t(Kt(n,"network-request-failed"))},d_(`${f_()}?onload=${l}`).catch(d=>t(d))}}).catch(e=>{throw wi=null,e})}var wi=null;function ty(n){return wi=wi||ey(n),wi}var ny=new Wt(5e3,15e3),ry="__/auth/iframe",iy="emulator/auth/iframe",sy={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oy=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ay(n){let e=n.config;x(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?ca(e,iy):`https://${n.config.authDomain}/${ry}`,r={apiKey:e.apiKey,appName:n.name,v:Et},s=oy.get(n.config.apiHost);s&&(r.eid=s);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Yn(r).slice(1)}`}function cy(n){return T(this,null,function*(){let e=yield ty(n),t=Ke().gapi;return x(t,n,"internal-error"),e.open({where:document.body,url:ay(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sy,dontclear:!0},r=>new Promise((s,o)=>T(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let c=Kt(n,"network-request-failed"),l=Ke().setTimeout(()=>{o(c)},ny.get());function d(){Ke().clearTimeout(l),s(r)}r.ping(d).then(d,()=>{o(c)})})))})}var uy={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ly=500,hy=600,dy="_blank",fy="http://localhost",Oi=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function py(n,e,t,r=ly,s=hy){let o=Math.max((window.screen.availHeight-s)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString(),l="",d=Object.assign(Object.assign({},uy),{width:r.toString(),height:s.toString(),top:o,left:c}),f=ae().toLowerCase();t&&(l=Yh(f)?dy:t),Hh(f)&&(e=e||fy,d.scrollbars="yes");let A=Object.entries(d).reduce((b,[R,P])=>`${b}${R}=${P},`,"");if(a_(f)&&l!=="_self")return my(e||"",l),new Oi(null);let S=window.open(e||"",l,A);x(S,n,"popup-blocked");try{S.focus()}catch{}return new Oi(S)}function my(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var gy="__/auth/handler",_y="emulator/auth/handler",yy=encodeURIComponent("fac");function Lh(n,e,t,r,s,o){return T(this,null,function*(){x(n.config.authDomain,n,"auth-domain-config-required"),x(n.config.apiKey,n,"invalid-api-key");let c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Et,eventId:s};if(e instanceof Ci){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",Jl(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(let[A,S]of Object.entries(o||{}))c[A]=S}if(e instanceof Xo){let A=e.getScopes().filter(S=>S!=="");A.length>0&&(c.scopes=A.join(","))}n.tenantId&&(c.tid=n.tenantId);let l=c;for(let A of Object.keys(l))l[A]===void 0&&delete l[A];let d=yield n._getAppCheckToken(),f=d?`#${yy}=${encodeURIComponent(d)}`:"";return`${vy(n)}?${Yn(l).slice(1)}${f}`})}function vy({config:n}){return n.emulator?ca(n,_y):`https://${n.authDomain}/${gy}`}var zo="webStorageSupport",sa=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ea,this._completeRedirectFn=K_,this._overrideRedirectResult=$_}_openPopup(e,t,r,s){return T(this,null,function*(){var o;Pt((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let c=yield Lh(e,t,r,Ko(),s);return py(e,c,ad())})}_openRedirect(e,t,r,s){return T(this,null,function*(){yield this._originValidation(e);let o=yield Lh(e,t,r,Ko(),s);return S_(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:s,promise:o}=this.eventManagers[t];return s?Promise.resolve(s):(Pt(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return T(this,null,function*(){let t=yield cy(e),r=new ia(e);return t.register("authEvent",s=>(x(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(zo,{type:zo},s=>{var o;let c=(o=s?.[0])===null||o===void 0?void 0:o[zo];c!==void 0&&t(!!c),St(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=J_(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return td()||Qh()||fa()}},fd=sa;var Fh="@firebase/auth",Uh="1.10.8";var oa=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return T(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){x(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Ey(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wy(n){Le(new pe("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:l}=r.options;x(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});let d={apiKey:c,authDomain:l,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nd(n)},f=new Jo(r,s,o,d);return p_(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Le(new pe("auth-internal",e=>{let t=pa(e.getProvider("auth").getImmediate());return(r=>new oa(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),re(Fh,Uh,Ey(n)),re(Fh,Uh,"esm2017")}var Ty=300,Iy=vo("authIdTokenMaxAge")||Ty,Bh=null,Ay=n=>e=>T(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Iy)return;let s=t?.token;Bh!==s&&(Bh=s,yield fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});function wa(n=Bt()){let e=pn(n,"auth");if(e.isInitialized())return e.getImmediate();let t=ga(n,{popupRedirectResolver:fd,persistence:[hd,od,Ea]}),r=vo("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let c=Ay(o.toString());va(t,c,()=>c(t.currentUser)),ya(t,l=>c(l))}}let s=_o("auth");return s&&_a(t,`http://${s}`),t}function by(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}h_({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{let o=Kt("internal-error");o.customData=s,t(o)},r.type="text/javascript",r.charset="UTF-8",by().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wy("Browser");var pd="auth",cr=class{constructor(e){return e}},ur=class{constructor(){return gn(pd)}};var Ta=new on("angularfire2.auth-instances");function yv(n,e){let t=Zn(pd,n,e);return t&&new cr(t)}function vv(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new cr(r)}}var Ev={provide:ur,deps:[[new Se,Ta]]},wv={provide:cr,useFactory:yv,deps:[[new Se,Ta],nt]};function md(n,...e){return re("angularfire",wt.full,"auth"),an([wv,Ev,{provide:Ta,useFactory:vv(n),multi:!0,deps:[Pe,cn,Tt,jt,[new Se,_n],...e]}])}var gd=$t(wa,!0);var _d=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},yd={};var xi,vd;(function(){var n;function e(y,p){function m(){}m.prototype=p.prototype,y.D=p.prototype,y.prototype=new m,y.prototype.constructor=y,y.C=function(_,v,w){for(var g=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)g[Ae-2]=arguments[Ae];return p.prototype[v].apply(_,g)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(y,p,m){m||(m=0);var _=Array(16);if(typeof p=="string")for(var v=0;16>v;++v)_[v]=p.charCodeAt(m++)|p.charCodeAt(m++)<<8|p.charCodeAt(m++)<<16|p.charCodeAt(m++)<<24;else for(v=0;16>v;++v)_[v]=p[m++]|p[m++]<<8|p[m++]<<16|p[m++]<<24;p=y.g[0],m=y.g[1],v=y.g[2];var w=y.g[3],g=p+(w^m&(v^w))+_[0]+3614090360&4294967295;p=m+(g<<7&4294967295|g>>>25),g=w+(v^p&(m^v))+_[1]+3905402710&4294967295,w=p+(g<<12&4294967295|g>>>20),g=v+(m^w&(p^m))+_[2]+606105819&4294967295,v=w+(g<<17&4294967295|g>>>15),g=m+(p^v&(w^p))+_[3]+3250441966&4294967295,m=v+(g<<22&4294967295|g>>>10),g=p+(w^m&(v^w))+_[4]+4118548399&4294967295,p=m+(g<<7&4294967295|g>>>25),g=w+(v^p&(m^v))+_[5]+1200080426&4294967295,w=p+(g<<12&4294967295|g>>>20),g=v+(m^w&(p^m))+_[6]+2821735955&4294967295,v=w+(g<<17&4294967295|g>>>15),g=m+(p^v&(w^p))+_[7]+4249261313&4294967295,m=v+(g<<22&4294967295|g>>>10),g=p+(w^m&(v^w))+_[8]+1770035416&4294967295,p=m+(g<<7&4294967295|g>>>25),g=w+(v^p&(m^v))+_[9]+2336552879&4294967295,w=p+(g<<12&4294967295|g>>>20),g=v+(m^w&(p^m))+_[10]+4294925233&4294967295,v=w+(g<<17&4294967295|g>>>15),g=m+(p^v&(w^p))+_[11]+2304563134&4294967295,m=v+(g<<22&4294967295|g>>>10),g=p+(w^m&(v^w))+_[12]+1804603682&4294967295,p=m+(g<<7&4294967295|g>>>25),g=w+(v^p&(m^v))+_[13]+4254626195&4294967295,w=p+(g<<12&4294967295|g>>>20),g=v+(m^w&(p^m))+_[14]+2792965006&4294967295,v=w+(g<<17&4294967295|g>>>15),g=m+(p^v&(w^p))+_[15]+1236535329&4294967295,m=v+(g<<22&4294967295|g>>>10),g=p+(v^w&(m^v))+_[1]+4129170786&4294967295,p=m+(g<<5&4294967295|g>>>27),g=w+(m^v&(p^m))+_[6]+3225465664&4294967295,w=p+(g<<9&4294967295|g>>>23),g=v+(p^m&(w^p))+_[11]+643717713&4294967295,v=w+(g<<14&4294967295|g>>>18),g=m+(w^p&(v^w))+_[0]+3921069994&4294967295,m=v+(g<<20&4294967295|g>>>12),g=p+(v^w&(m^v))+_[5]+3593408605&4294967295,p=m+(g<<5&4294967295|g>>>27),g=w+(m^v&(p^m))+_[10]+38016083&4294967295,w=p+(g<<9&4294967295|g>>>23),g=v+(p^m&(w^p))+_[15]+3634488961&4294967295,v=w+(g<<14&4294967295|g>>>18),g=m+(w^p&(v^w))+_[4]+3889429448&4294967295,m=v+(g<<20&4294967295|g>>>12),g=p+(v^w&(m^v))+_[9]+568446438&4294967295,p=m+(g<<5&4294967295|g>>>27),g=w+(m^v&(p^m))+_[14]+3275163606&4294967295,w=p+(g<<9&4294967295|g>>>23),g=v+(p^m&(w^p))+_[3]+4107603335&4294967295,v=w+(g<<14&4294967295|g>>>18),g=m+(w^p&(v^w))+_[8]+1163531501&4294967295,m=v+(g<<20&4294967295|g>>>12),g=p+(v^w&(m^v))+_[13]+2850285829&4294967295,p=m+(g<<5&4294967295|g>>>27),g=w+(m^v&(p^m))+_[2]+4243563512&4294967295,w=p+(g<<9&4294967295|g>>>23),g=v+(p^m&(w^p))+_[7]+1735328473&4294967295,v=w+(g<<14&4294967295|g>>>18),g=m+(w^p&(v^w))+_[12]+2368359562&4294967295,m=v+(g<<20&4294967295|g>>>12),g=p+(m^v^w)+_[5]+4294588738&4294967295,p=m+(g<<4&4294967295|g>>>28),g=w+(p^m^v)+_[8]+2272392833&4294967295,w=p+(g<<11&4294967295|g>>>21),g=v+(w^p^m)+_[11]+1839030562&4294967295,v=w+(g<<16&4294967295|g>>>16),g=m+(v^w^p)+_[14]+4259657740&4294967295,m=v+(g<<23&4294967295|g>>>9),g=p+(m^v^w)+_[1]+2763975236&4294967295,p=m+(g<<4&4294967295|g>>>28),g=w+(p^m^v)+_[4]+1272893353&4294967295,w=p+(g<<11&4294967295|g>>>21),g=v+(w^p^m)+_[7]+4139469664&4294967295,v=w+(g<<16&4294967295|g>>>16),g=m+(v^w^p)+_[10]+3200236656&4294967295,m=v+(g<<23&4294967295|g>>>9),g=p+(m^v^w)+_[13]+681279174&4294967295,p=m+(g<<4&4294967295|g>>>28),g=w+(p^m^v)+_[0]+3936430074&4294967295,w=p+(g<<11&4294967295|g>>>21),g=v+(w^p^m)+_[3]+3572445317&4294967295,v=w+(g<<16&4294967295|g>>>16),g=m+(v^w^p)+_[6]+76029189&4294967295,m=v+(g<<23&4294967295|g>>>9),g=p+(m^v^w)+_[9]+3654602809&4294967295,p=m+(g<<4&4294967295|g>>>28),g=w+(p^m^v)+_[12]+3873151461&4294967295,w=p+(g<<11&4294967295|g>>>21),g=v+(w^p^m)+_[15]+530742520&4294967295,v=w+(g<<16&4294967295|g>>>16),g=m+(v^w^p)+_[2]+3299628645&4294967295,m=v+(g<<23&4294967295|g>>>9),g=p+(v^(m|~w))+_[0]+4096336452&4294967295,p=m+(g<<6&4294967295|g>>>26),g=w+(m^(p|~v))+_[7]+1126891415&4294967295,w=p+(g<<10&4294967295|g>>>22),g=v+(p^(w|~m))+_[14]+2878612391&4294967295,v=w+(g<<15&4294967295|g>>>17),g=m+(w^(v|~p))+_[5]+4237533241&4294967295,m=v+(g<<21&4294967295|g>>>11),g=p+(v^(m|~w))+_[12]+1700485571&4294967295,p=m+(g<<6&4294967295|g>>>26),g=w+(m^(p|~v))+_[3]+2399980690&4294967295,w=p+(g<<10&4294967295|g>>>22),g=v+(p^(w|~m))+_[10]+4293915773&4294967295,v=w+(g<<15&4294967295|g>>>17),g=m+(w^(v|~p))+_[1]+2240044497&4294967295,m=v+(g<<21&4294967295|g>>>11),g=p+(v^(m|~w))+_[8]+1873313359&4294967295,p=m+(g<<6&4294967295|g>>>26),g=w+(m^(p|~v))+_[15]+4264355552&4294967295,w=p+(g<<10&4294967295|g>>>22),g=v+(p^(w|~m))+_[6]+2734768916&4294967295,v=w+(g<<15&4294967295|g>>>17),g=m+(w^(v|~p))+_[13]+1309151649&4294967295,m=v+(g<<21&4294967295|g>>>11),g=p+(v^(m|~w))+_[4]+4149444226&4294967295,p=m+(g<<6&4294967295|g>>>26),g=w+(m^(p|~v))+_[11]+3174756917&4294967295,w=p+(g<<10&4294967295|g>>>22),g=v+(p^(w|~m))+_[2]+718787259&4294967295,v=w+(g<<15&4294967295|g>>>17),g=m+(w^(v|~p))+_[9]+3951481745&4294967295,y.g[0]=y.g[0]+p&4294967295,y.g[1]=y.g[1]+(v+(g<<21&4294967295|g>>>11))&4294967295,y.g[2]=y.g[2]+v&4294967295,y.g[3]=y.g[3]+w&4294967295}r.prototype.u=function(y,p){p===void 0&&(p=y.length);for(var m=p-this.blockSize,_=this.B,v=this.h,w=0;w<p;){if(v==0)for(;w<=m;)s(this,y,w),w+=this.blockSize;if(typeof y=="string"){for(;w<p;)if(_[v++]=y.charCodeAt(w++),v==this.blockSize){s(this,_),v=0;break}}else for(;w<p;)if(_[v++]=y[w++],v==this.blockSize){s(this,_),v=0;break}}this.h=v,this.o+=p},r.prototype.v=function(){var y=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);y[0]=128;for(var p=1;p<y.length-8;++p)y[p]=0;var m=8*this.o;for(p=y.length-8;p<y.length;++p)y[p]=m&255,m/=256;for(this.u(y),y=Array(16),p=m=0;4>p;++p)for(var _=0;32>_;_+=8)y[m++]=this.g[p]>>>_&255;return y};function o(y,p){var m=l;return Object.prototype.hasOwnProperty.call(m,y)?m[y]:m[y]=p(y)}function c(y,p){this.h=p;for(var m=[],_=!0,v=y.length-1;0<=v;v--){var w=y[v]|0;_&&w==p||(m[v]=w,_=!1)}this.g=m}var l={};function d(y){return-128<=y&&128>y?o(y,function(p){return new c([p|0],0>p?-1:0)}):new c([y|0],0>y?-1:0)}function f(y){if(isNaN(y)||!isFinite(y))return S;if(0>y)return V(f(-y));for(var p=[],m=1,_=0;y>=m;_++)p[_]=y/m|0,m*=4294967296;return new c(p,0)}function A(y,p){if(y.length==0)throw Error("number format error: empty string");if(p=p||10,2>p||36<p)throw Error("radix out of range: "+p);if(y.charAt(0)=="-")return V(A(y.substring(1),p));if(0<=y.indexOf("-"))throw Error('number format error: interior "-" character');for(var m=f(Math.pow(p,8)),_=S,v=0;v<y.length;v+=8){var w=Math.min(8,y.length-v),g=parseInt(y.substring(v,v+w),p);8>w?(w=f(Math.pow(p,w)),_=_.j(w).add(f(g))):(_=_.j(m),_=_.add(f(g)))}return _}var S=d(0),b=d(1),R=d(16777216);n=c.prototype,n.m=function(){if(k(this))return-V(this).m();for(var y=0,p=1,m=0;m<this.g.length;m++){var _=this.i(m);y+=(0<=_?_:4294967296+_)*p,p*=4294967296}return y},n.toString=function(y){if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(P(this))return"0";if(k(this))return"-"+V(this).toString(y);for(var p=f(Math.pow(y,6)),m=this,_="";;){var v=W(m,p).g;m=z(m,v.j(p));var w=((0<m.g.length?m.g[0]:m.h)>>>0).toString(y);if(m=v,P(m))return w+_;for(;6>w.length;)w="0"+w;_=w+_}},n.i=function(y){return 0>y?0:y<this.g.length?this.g[y]:this.h};function P(y){if(y.h!=0)return!1;for(var p=0;p<y.g.length;p++)if(y.g[p]!=0)return!1;return!0}function k(y){return y.h==-1}n.l=function(y){return y=z(this,y),k(y)?-1:P(y)?0:1};function V(y){for(var p=y.g.length,m=[],_=0;_<p;_++)m[_]=~y.g[_];return new c(m,~y.h).add(b)}n.abs=function(){return k(this)?V(this):this},n.add=function(y){for(var p=Math.max(this.g.length,y.g.length),m=[],_=0,v=0;v<=p;v++){var w=_+(this.i(v)&65535)+(y.i(v)&65535),g=(w>>>16)+(this.i(v)>>>16)+(y.i(v)>>>16);_=g>>>16,w&=65535,g&=65535,m[v]=g<<16|w}return new c(m,m[m.length-1]&-2147483648?-1:0)};function z(y,p){return y.add(V(p))}n.j=function(y){if(P(this)||P(y))return S;if(k(this))return k(y)?V(this).j(V(y)):V(V(this).j(y));if(k(y))return V(this.j(V(y)));if(0>this.l(R)&&0>y.l(R))return f(this.m()*y.m());for(var p=this.g.length+y.g.length,m=[],_=0;_<2*p;_++)m[_]=0;for(_=0;_<this.g.length;_++)for(var v=0;v<y.g.length;v++){var w=this.i(_)>>>16,g=this.i(_)&65535,Ae=y.i(v)>>>16,ct=y.i(v)&65535;m[2*_+2*v]+=g*ct,L(m,2*_+2*v),m[2*_+2*v+1]+=w*ct,L(m,2*_+2*v+1),m[2*_+2*v+1]+=g*Ae,L(m,2*_+2*v+1),m[2*_+2*v+2]+=w*Ae,L(m,2*_+2*v+2)}for(_=0;_<p;_++)m[_]=m[2*_+1]<<16|m[2*_];for(_=p;_<2*p;_++)m[_]=0;return new c(m,0)};function L(y,p){for(;(y[p]&65535)!=y[p];)y[p+1]+=y[p]>>>16,y[p]&=65535,p++}function U(y,p){this.g=y,this.h=p}function W(y,p){if(P(p))throw Error("division by zero");if(P(y))return new U(S,S);if(k(y))return p=W(V(y),p),new U(V(p.g),V(p.h));if(k(p))return p=W(y,V(p)),new U(V(p.g),p.h);if(30<y.g.length){if(k(y)||k(p))throw Error("slowDivide_ only works with positive integers.");for(var m=b,_=p;0>=_.l(y);)m=me(m),_=me(_);var v=Q(m,1),w=Q(_,1);for(_=Q(_,2),m=Q(m,2);!P(_);){var g=w.add(_);0>=g.l(y)&&(v=v.add(m),w=g),_=Q(_,1),m=Q(m,1)}return p=z(y,v.j(p)),new U(v,p)}for(v=S;0<=y.l(p);){for(m=Math.max(1,Math.floor(y.m()/p.m())),_=Math.ceil(Math.log(m)/Math.LN2),_=48>=_?1:Math.pow(2,_-48),w=f(m),g=w.j(p);k(g)||0<g.l(y);)m-=_,w=f(m),g=w.j(p);P(w)&&(w=b),v=v.add(w),y=z(y,g)}return new U(v,y)}n.A=function(y){return W(this,y).h},n.and=function(y){for(var p=Math.max(this.g.length,y.g.length),m=[],_=0;_<p;_++)m[_]=this.i(_)&y.i(_);return new c(m,this.h&y.h)},n.or=function(y){for(var p=Math.max(this.g.length,y.g.length),m=[],_=0;_<p;_++)m[_]=this.i(_)|y.i(_);return new c(m,this.h|y.h)},n.xor=function(y){for(var p=Math.max(this.g.length,y.g.length),m=[],_=0;_<p;_++)m[_]=this.i(_)^y.i(_);return new c(m,this.h^y.h)};function me(y){for(var p=y.g.length+1,m=[],_=0;_<p;_++)m[_]=y.i(_)<<1|y.i(_-1)>>>31;return new c(m,y.h)}function Q(y,p){var m=p>>5;p%=32;for(var _=y.g.length-m,v=[],w=0;w<_;w++)v[w]=0<p?y.i(w+m)>>>p|y.i(w+m+1)<<32-p:y.i(w+m);return new c(v,y.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,vd=yd.Md5=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=f,c.fromString=A,xi=yd.Integer=c}).apply(typeof _d<"u"?_d:typeof self<"u"?self:typeof window<"u"?window:{});var Mi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},st={};var Ed,Tv,wd,Td,Id,Ad,bd,Sd,Pd;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(i,a,u){return i==Array.prototype||i==Object.prototype||(i[a]=u.value),i};function t(i){i=[typeof globalThis=="object"&&globalThis,i,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mi=="object"&&Mi];for(var a=0;a<i.length;++a){var u=i[a];if(u&&u.Math==Math)return u}throw Error("Cannot find global object")}var r=t(this);function s(i,a){if(a)e:{var u=r;i=i.split(".");for(var h=0;h<i.length-1;h++){var E=i[h];if(!(E in u))break e;u=u[E]}i=i[i.length-1],h=u[i],a=a(h),a!=h&&a!=null&&e(u,i,{configurable:!0,writable:!0,value:a})}}function o(i,a){i instanceof String&&(i+="");var u=0,h=!1,E={next:function(){if(!h&&u<i.length){var I=u++;return{value:a(I,i[I]),done:!1}}return h=!0,{done:!0,value:void 0}}};return E[Symbol.iterator]=function(){return E},E}s("Array.prototype.values",function(i){return i||function(){return o(this,function(a,u){return u})}});var c=c||{},l=this||self;function d(i){var a=typeof i;return a=a!="object"?a:i?Array.isArray(i)?"array":a:"null",a=="array"||a=="object"&&typeof i.length=="number"}function f(i){var a=typeof i;return a=="object"&&i!=null||a=="function"}function A(i,a,u){return i.call.apply(i.bind,arguments)}function S(i,a,u){if(!i)throw Error();if(2<arguments.length){var h=Array.prototype.slice.call(arguments,2);return function(){var E=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(E,h),i.apply(a,E)}}return function(){return i.apply(a,arguments)}}function b(i,a,u){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:S,b.apply(null,arguments)}function R(i,a){var u=Array.prototype.slice.call(arguments,1);return function(){var h=u.slice();return h.push.apply(h,arguments),i.apply(this,h)}}function P(i,a){function u(){}u.prototype=a.prototype,i.aa=a.prototype,i.prototype=new u,i.prototype.constructor=i,i.Qb=function(h,E,I){for(var C=Array(arguments.length-2),H=2;H<arguments.length;H++)C[H-2]=arguments[H];return a.prototype[E].apply(h,C)}}function k(i){let a=i.length;if(0<a){let u=Array(a);for(let h=0;h<a;h++)u[h]=i[h];return u}return[]}function V(i,a){for(let u=1;u<arguments.length;u++){let h=arguments[u];if(d(h)){let E=i.length||0,I=h.length||0;i.length=E+I;for(let C=0;C<I;C++)i[E+C]=h[C]}else i.push(h)}}class z{constructor(a,u){this.i=a,this.j=u,this.h=0,this.g=null}get(){let a;return 0<this.h?(this.h--,a=this.g,this.g=a.next,a.next=null):a=this.i(),a}}function L(i){return/^[\s\xa0]*$/.test(i)}function U(){var i=l.navigator;return i&&(i=i.userAgent)?i:""}function W(i){return W[" "](i),i}W[" "]=function(){};var me=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function Q(i,a,u){for(let h in i)a.call(u,i[h],h,i)}function y(i,a){for(let u in i)a.call(void 0,i[u],u,i)}function p(i){let a={};for(let u in i)a[u]=i[u];return a}let m="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _(i,a){let u,h;for(let E=1;E<arguments.length;E++){h=arguments[E];for(u in h)i[u]=h[u];for(let I=0;I<m.length;I++)u=m[I],Object.prototype.hasOwnProperty.call(h,u)&&(i[u]=h[u])}}function v(i){var a=1;i=i.split(":");let u=[];for(;0<a&&i.length;)u.push(i.shift()),a--;return i.length&&u.push(i.join(":")),u}function w(i){l.setTimeout(()=>{throw i},0)}function g(){var i=F;let a=null;return i.g&&(a=i.g,i.g=i.g.next,i.g||(i.h=null),a.next=null),a}class Ae{constructor(){this.h=this.g=null}add(a,u){let h=ct.get();h.set(a,u),this.h?this.h.next=h:this.g=h,this.h=h}}var ct=new z(()=>new D,i=>i.reset());class D{constructor(){this.next=this.g=this.h=null}set(a,u){this.h=a,this.g=u,this.next=null}reset(){this.next=this.g=this.h=null}}let N,O=!1,F=new Ae,ie=()=>{let i=l.Promise.resolve(void 0);N=()=>{i.then(be)}};var be=()=>{for(var i;i=g();){try{i.h.call(i.g)}catch(u){w(u)}var a=ct;a.j(i),100>a.h&&(a.h++,i.next=a.g,a.g=i)}O=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Y(i,a){this.type=i,this.g=this.target=a,this.defaultPrevented=!1}Y.prototype.h=function(){this.defaultPrevented=!0};var J=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var i=!1,a=Object.defineProperty({},"passive",{get:function(){i=!0}});try{let u=()=>{};l.addEventListener("test",u,a),l.removeEventListener("test",u,a)}catch{}return i})();function ut(i,a){if(Y.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var u=this.type=i.type,h=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=a,a=i.relatedTarget){if(me){e:{try{W(a.nodeName);var E=!0;break e}catch{}E=!1}E||(a=null)}}else u=="mouseover"?a=i.fromElement:u=="mouseout"&&(a=i.toElement);this.relatedTarget=a,h?(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0):(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType=typeof i.pointerType=="string"?i.pointerType:Hi[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&ut.aa.h.call(this)}}P(ut,Y);var Hi={2:"touch",3:"pen",4:"mouse"};ut.prototype.h=function(){ut.aa.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var te="closure_listenable_"+(1e6*Math.random()|0),He=0;function ge(i,a,u,h,E){this.listener=i,this.proxy=null,this.src=a,this.type=u,this.capture=!!h,this.ha=E,this.key=++He,this.da=this.fa=!1}function Qe(i){i.da=!0,i.listener=null,i.proxy=null,i.src=null,i.ha=null}function lt(i){this.src=i,this.g={},this.h=0}lt.prototype.add=function(i,a,u,h,E){var I=i.toString();i=this.g[I],i||(i=this.g[I]=[],this.h++);var C=Yi(i,a,h,E);return-1<C?(a=i[C],u||(a.fa=!1)):(a=new ge(a,this.src,I,!!h,E),a.fa=u,i.push(a)),a};function Qi(i,a){var u=a.type;if(u in i.g){var h=i.g[u],E=Array.prototype.indexOf.call(h,a,void 0),I;(I=0<=E)&&Array.prototype.splice.call(h,E,1),I&&(Qe(a),i.g[u].length==0&&(delete i.g[u],i.h--))}}function Yi(i,a,u,h){for(var E=0;E<i.length;++E){var I=i[E];if(!I.da&&I.listener==a&&I.capture==!!u&&I.ha==h)return E}return-1}var Ji="closure_lm_"+(1e6*Math.random()|0),Xi={};function Wa(i,a,u,h,E){if(h&&h.once)return Ha(i,a,u,h,E);if(Array.isArray(a)){for(var I=0;I<a.length;I++)Wa(i,a[I],u,h,E);return null}return u=ns(u),i&&i[te]?i.K(a,u,f(h)?!!h.capture:!!h,E):Ga(i,a,u,!1,h,E)}function Ga(i,a,u,h,E,I){if(!a)throw Error("Invalid event type");var C=f(E)?!!E.capture:!!E,H=es(i);if(H||(i[Ji]=H=new lt(i)),u=H.add(a,u,h,C,I),u.proxy)return u;if(h=gf(),u.proxy=h,h.src=i,h.listener=u,i.addEventListener)J||(E=C),E===void 0&&(E=!1),i.addEventListener(a.toString(),h,E);else if(i.attachEvent)i.attachEvent(Ya(a.toString()),h);else if(i.addListener&&i.removeListener)i.addListener(h);else throw Error("addEventListener and attachEvent are unavailable.");return u}function gf(){function i(u){return a.call(i.src,i.listener,u)}let a=_f;return i}function Ha(i,a,u,h,E){if(Array.isArray(a)){for(var I=0;I<a.length;I++)Ha(i,a[I],u,h,E);return null}return u=ns(u),i&&i[te]?i.L(a,u,f(h)?!!h.capture:!!h,E):Ga(i,a,u,!0,h,E)}function Qa(i,a,u,h,E){if(Array.isArray(a))for(var I=0;I<a.length;I++)Qa(i,a[I],u,h,E);else h=f(h)?!!h.capture:!!h,u=ns(u),i&&i[te]?(i=i.i,a=String(a).toString(),a in i.g&&(I=i.g[a],u=Yi(I,u,h,E),-1<u&&(Qe(I[u]),Array.prototype.splice.call(I,u,1),I.length==0&&(delete i.g[a],i.h--)))):i&&(i=es(i))&&(a=i.g[a.toString()],i=-1,a&&(i=Yi(a,u,h,E)),(u=-1<i?a[i]:null)&&Zi(u))}function Zi(i){if(typeof i!="number"&&i&&!i.da){var a=i.src;if(a&&a[te])Qi(a.i,i);else{var u=i.type,h=i.proxy;a.removeEventListener?a.removeEventListener(u,h,i.capture):a.detachEvent?a.detachEvent(Ya(u),h):a.addListener&&a.removeListener&&a.removeListener(h),(u=es(a))?(Qi(u,i),u.h==0&&(u.src=null,a[Ji]=null)):Qe(i)}}}function Ya(i){return i in Xi?Xi[i]:Xi[i]="on"+i}function _f(i,a){if(i.da)i=!0;else{a=new ut(a,this);var u=i.listener,h=i.ha||i.src;i.fa&&Zi(i),i=u.call(h,a)}return i}function es(i){return i=i[Ji],i instanceof lt?i:null}var ts="__closure_events_fn_"+(1e9*Math.random()>>>0);function ns(i){return typeof i=="function"?i:(i[ts]||(i[ts]=function(a){return i.handleEvent(a)}),i[ts])}function ue(){ee.call(this),this.i=new lt(this),this.M=this,this.F=null}P(ue,ee),ue.prototype[te]=!0,ue.prototype.removeEventListener=function(i,a,u,h){Qa(this,i,a,u,h)};function de(i,a){var u,h=i.F;if(h)for(u=[];h;h=h.F)u.push(h);if(i=i.M,h=a.type||a,typeof a=="string")a=new Y(a,i);else if(a instanceof Y)a.target=a.target||i;else{var E=a;a=new Y(h,i),_(a,E)}if(E=!0,u)for(var I=u.length-1;0<=I;I--){var C=a.g=u[I];E=vr(C,h,!0,a)&&E}if(C=a.g=i,E=vr(C,h,!0,a)&&E,E=vr(C,h,!1,a)&&E,u)for(I=0;I<u.length;I++)C=a.g=u[I],E=vr(C,h,!1,a)&&E}ue.prototype.N=function(){if(ue.aa.N.call(this),this.i){var i=this.i,a;for(a in i.g){for(var u=i.g[a],h=0;h<u.length;h++)Qe(u[h]);delete i.g[a],i.h--}}this.F=null},ue.prototype.K=function(i,a,u,h){return this.i.add(String(i),a,!1,u,h)},ue.prototype.L=function(i,a,u,h){return this.i.add(String(i),a,!0,u,h)};function vr(i,a,u,h){if(a=i.i.g[String(a)],!a)return!0;a=a.concat();for(var E=!0,I=0;I<a.length;++I){var C=a[I];if(C&&!C.da&&C.capture==u){var H=C.listener,oe=C.ha||C.src;C.fa&&Qi(i.i,C),E=H.call(oe,h)!==!1&&E}}return E&&!h.defaultPrevented}function Ja(i,a,u){if(typeof i=="function")u&&(i=b(i,u));else if(i&&typeof i.handleEvent=="function")i=b(i.handleEvent,i);else throw Error("Invalid listener argument");return 2147483647<Number(a)?-1:l.setTimeout(i,a||0)}function Xa(i){i.g=Ja(()=>{i.g=null,i.i&&(i.i=!1,Xa(i))},i.l);let a=i.h;i.h=null,i.m.apply(null,a)}class yf extends ee{constructor(a,u){super(),this.m=a,this.l=u,this.h=null,this.i=!1,this.g=null}j(a){this.h=arguments,this.g?this.i=!0:Xa(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bn(i){ee.call(this),this.h=i,this.g={}}P(bn,ee);var Za=[];function ec(i){Q(i.g,function(a,u){this.g.hasOwnProperty(u)&&Zi(a)},i),i.g={}}bn.prototype.N=function(){bn.aa.N.call(this),ec(this)},bn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rs=l.JSON.stringify,vf=l.JSON.parse,Ef=class{stringify(i){return l.JSON.stringify(i,void 0)}parse(i){return l.JSON.parse(i,void 0)}};function is(){}is.prototype.h=null;function tc(i){return i.h||(i.h=i.i())}function nc(){}var Sn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ss(){Y.call(this,"d")}P(ss,Y);function os(){Y.call(this,"c")}P(os,Y);var Ct={},rc=null;function Er(){return rc=rc||new ue}Ct.La="serverreachability";function ic(i){Y.call(this,Ct.La,i)}P(ic,Y);function Pn(i){let a=Er();de(a,new ic(a))}Ct.STAT_EVENT="statevent";function sc(i,a){Y.call(this,Ct.STAT_EVENT,i),this.stat=a}P(sc,Y);function fe(i){let a=Er();de(a,new sc(a,i))}Ct.Ma="timingevent";function oc(i,a){Y.call(this,Ct.Ma,i),this.size=a}P(oc,Y);function Rn(i,a){if(typeof i!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){i()},a)}function Cn(){this.g=!0}Cn.prototype.xa=function(){this.g=!1};function wf(i,a,u,h,E,I){i.info(function(){if(i.g)if(I)for(var C="",H=I.split("&"),oe=0;oe<H.length;oe++){var K=H[oe].split("=");if(1<K.length){var le=K[0];K=K[1];var he=le.split("_");C=2<=he.length&&he[1]=="type"?C+(le+"="+K+"&"):C+(le+"=redacted&")}}else C=null;else C=I;return"XMLHTTP REQ ("+h+") [attempt "+E+"]: "+a+`
`+u+`
`+C})}function Tf(i,a,u,h,E,I,C){i.info(function(){return"XMLHTTP RESP ("+h+") [ attempt "+E+"]: "+a+`
`+u+`
`+I+" "+C})}function Jt(i,a,u,h){i.info(function(){return"XMLHTTP TEXT ("+a+"): "+Af(i,u)+(h?" "+h:"")})}function If(i,a){i.info(function(){return"TIMEOUT: "+a})}Cn.prototype.info=function(){};function Af(i,a){if(!i.g)return a;if(!a)return null;try{var u=JSON.parse(a);if(u){for(i=0;i<u.length;i++)if(Array.isArray(u[i])){var h=u[i];if(!(2>h.length)){var E=h[1];if(Array.isArray(E)&&!(1>E.length)){var I=E[0];if(I!="noop"&&I!="stop"&&I!="close")for(var C=1;C<E.length;C++)E[C]=""}}}}return rs(u)}catch{return a}}var wr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ac={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},as;function Tr(){}P(Tr,is),Tr.prototype.g=function(){return new XMLHttpRequest},Tr.prototype.i=function(){return{}},as=new Tr;function ht(i,a,u,h){this.j=i,this.i=a,this.l=u,this.R=h||1,this.U=new bn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new cc}function cc(){this.i=null,this.g="",this.h=!1}var uc={},cs={};function us(i,a,u){i.L=1,i.v=Sr(Ye(a)),i.m=u,i.P=!0,lc(i,null)}function lc(i,a){i.F=Date.now(),Ir(i),i.A=Ye(i.v);var u=i.A,h=i.R;Array.isArray(h)||(h=[String(h)]),Ac(u.i,"t",h),i.C=0,u=i.j.J,i.h=new cc,i.g=$c(i.j,u?a:null,!i.m),0<i.O&&(i.M=new yf(b(i.Y,i,i.g),i.O)),a=i.U,u=i.g,h=i.ca;var E="readystatechange";Array.isArray(E)||(E&&(Za[0]=E.toString()),E=Za);for(var I=0;I<E.length;I++){var C=Wa(u,E[I],h||a.handleEvent,!1,a.h||a);if(!C)break;a.g[C.key]=C}a=i.H?p(i.H):{},i.m?(i.u||(i.u="POST"),a["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.m,a)):(i.u="GET",i.g.ea(i.A,i.u,null,a)),Pn(),wf(i.i,i.u,i.A,i.l,i.R,i.m)}ht.prototype.ca=function(i){i=i.target;let a=this.M;a&&Je(i)==3?a.j():this.Y(i)},ht.prototype.Y=function(i){try{if(i==this.g)e:{let he=Je(this.g);var a=this.g.Ba();let en=this.g.Z();if(!(3>he)&&(he!=3||this.g&&(this.h.h||this.g.oa()||Dc(this.g)))){this.J||he!=4||a==7||(a==8||0>=en?Pn(3):Pn(2)),ls(this);var u=this.g.Z();this.X=u;t:if(hc(this)){var h=Dc(this.g);i="";var E=h.length,I=Je(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){kt(this),kn(this);var C="";break t}this.h.i=new l.TextDecoder}for(a=0;a<E;a++)this.h.h=!0,i+=this.h.i.decode(h[a],{stream:!(I&&a==E-1)});h.length=0,this.h.g+=i,this.C=0,C=this.h.g}else C=this.g.oa();if(this.o=u==200,Tf(this.i,this.u,this.A,this.l,this.R,he,u),this.o){if(this.T&&!this.K){t:{if(this.g){var H,oe=this.g;if((H=oe.g?oe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(H)){var K=H;break t}}K=null}if(u=K)Jt(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hs(this,u);else{this.o=!1,this.s=3,fe(12),kt(this),kn(this);break e}}if(this.P){u=!0;let Ne;for(;!this.J&&this.C<C.length;)if(Ne=bf(this,C),Ne==cs){he==4&&(this.s=4,fe(14),u=!1),Jt(this.i,this.l,null,"[Incomplete Response]");break}else if(Ne==uc){this.s=4,fe(15),Jt(this.i,this.l,C,"[Invalid Chunk]"),u=!1;break}else Jt(this.i,this.l,Ne,null),hs(this,Ne);if(hc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),he!=4||C.length!=0||this.h.h||(this.s=1,fe(16),u=!1),this.o=this.o&&u,!u)Jt(this.i,this.l,C,"[Invalid Chunked Response]"),kt(this),kn(this);else if(0<C.length&&!this.W){this.W=!0;var le=this.j;le.g==this&&le.ba&&!le.M&&(le.j.info("Great, no buffering proxy detected. Bytes received: "+C.length),_s(le),le.M=!0,fe(11))}}else Jt(this.i,this.l,C,null),hs(this,C);he==4&&kt(this),this.o&&!this.J&&(he==4?Fc(this.j,this):(this.o=!1,Ir(this)))}else $f(this.g),u==400&&0<C.indexOf("Unknown SID")?(this.s=3,fe(12)):(this.s=0,fe(13)),kt(this),kn(this)}}}catch{}finally{}};function hc(i){return i.g?i.u=="GET"&&i.L!=2&&i.j.Ca:!1}function bf(i,a){var u=i.C,h=a.indexOf(`
`,u);return h==-1?cs:(u=Number(a.substring(u,h)),isNaN(u)?uc:(h+=1,h+u>a.length?cs:(a=a.slice(h,h+u),i.C=h+u,a)))}ht.prototype.cancel=function(){this.J=!0,kt(this)};function Ir(i){i.S=Date.now()+i.I,dc(i,i.I)}function dc(i,a){if(i.B!=null)throw Error("WatchDog timer not null");i.B=Rn(b(i.ba,i),a)}function ls(i){i.B&&(l.clearTimeout(i.B),i.B=null)}ht.prototype.ba=function(){this.B=null;let i=Date.now();0<=i-this.S?(If(this.i,this.A),this.L!=2&&(Pn(),fe(17)),kt(this),this.s=2,kn(this)):dc(this,this.S-i)};function kn(i){i.j.G==0||i.J||Fc(i.j,i)}function kt(i){ls(i);var a=i.M;a&&typeof a.ma=="function"&&a.ma(),i.M=null,ec(i.U),i.g&&(a=i.g,i.g=null,a.abort(),a.ma())}function hs(i,a){try{var u=i.j;if(u.G!=0&&(u.g==i||ds(u.h,i))){if(!i.K&&ds(u.h,i)&&u.G==3){try{var h=u.Da.g.parse(a)}catch{h=null}if(Array.isArray(h)&&h.length==3){var E=h;if(E[0]==0){e:if(!u.u){if(u.g)if(u.g.F+3e3<i.F)Dr(u),Cr(u);else break e;gs(u),fe(18)}}else u.za=E[1],0<u.za-u.T&&37500>E[2]&&u.F&&u.v==0&&!u.C&&(u.C=Rn(b(u.Za,u),6e3));if(1>=mc(u.h)&&u.ca){try{u.ca()}catch{}u.ca=void 0}}else Nt(u,11)}else if((i.K||u.g==i)&&Dr(u),!L(a))for(E=u.Da.g.parse(a),a=0;a<E.length;a++){let K=E[a];if(u.T=K[0],K=K[1],u.G==2)if(K[0]=="c"){u.K=K[1],u.ia=K[2];let le=K[3];le!=null&&(u.la=le,u.j.info("VER="+u.la));let he=K[4];he!=null&&(u.Aa=he,u.j.info("SVER="+u.Aa));let en=K[5];en!=null&&typeof en=="number"&&0<en&&(h=1.5*en,u.L=h,u.j.info("backChannelRequestTimeoutMs_="+h)),h=u;let Ne=i.g;if(Ne){let Or=Ne.g?Ne.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Or){var I=h.h;I.g||Or.indexOf("spdy")==-1&&Or.indexOf("quic")==-1&&Or.indexOf("h2")==-1||(I.j=I.l,I.g=new Set,I.h&&(fs(I,I.h),I.h=null))}if(h.D){let ys=Ne.g?Ne.g.getResponseHeader("X-HTTP-Session-Id"):null;ys&&(h.ya=ys,X(h.I,h.D,ys))}}u.G=3,u.l&&u.l.ua(),u.ba&&(u.R=Date.now()-i.F,u.j.info("Handshake RTT: "+u.R+"ms")),h=u;var C=i;if(h.qa=qc(h,h.J?h.ia:null,h.W),C.K){gc(h.h,C);var H=C,oe=h.L;oe&&(H.I=oe),H.B&&(ls(H),Ir(H)),h.g=C}else Mc(h);0<u.i.length&&kr(u)}else K[0]!="stop"&&K[0]!="close"||Nt(u,7);else u.G==3&&(K[0]=="stop"||K[0]=="close"?K[0]=="stop"?Nt(u,7):ms(u):K[0]!="noop"&&u.l&&u.l.ta(K),u.v=0)}}Pn(4)}catch{}}var Sf=class{constructor(i,a){this.g=i,this.map=a}};function fc(i){this.l=i||10,l.PerformanceNavigationTiming?(i=l.performance.getEntriesByType("navigation"),i=0<i.length&&(i[0].nextHopProtocol=="hq"||i[0].nextHopProtocol=="h2")):i=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function pc(i){return i.h?!0:i.g?i.g.size>=i.j:!1}function mc(i){return i.h?1:i.g?i.g.size:0}function ds(i,a){return i.h?i.h==a:i.g?i.g.has(a):!1}function fs(i,a){i.g?i.g.add(a):i.h=a}function gc(i,a){i.h&&i.h==a?i.h=null:i.g&&i.g.has(a)&&i.g.delete(a)}fc.prototype.cancel=function(){if(this.i=_c(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let i of this.g.values())i.cancel();this.g.clear()}};function _c(i){if(i.h!=null)return i.i.concat(i.h.D);if(i.g!=null&&i.g.size!==0){let a=i.i;for(let u of i.g.values())a=a.concat(u.D);return a}return k(i.i)}function Pf(i){if(i.V&&typeof i.V=="function")return i.V();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if(typeof i=="string")return i.split("");if(d(i)){for(var a=[],u=i.length,h=0;h<u;h++)a.push(i[h]);return a}a=[],u=0;for(h in i)a[u++]=i[h];return a}function Rf(i){if(i.na&&typeof i.na=="function")return i.na();if(!i.V||typeof i.V!="function"){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(d(i)||typeof i=="string"){var a=[];i=i.length;for(var u=0;u<i;u++)a.push(u);return a}a=[],u=0;for(let h in i)a[u++]=h;return a}}}function yc(i,a){if(i.forEach&&typeof i.forEach=="function")i.forEach(a,void 0);else if(d(i)||typeof i=="string")Array.prototype.forEach.call(i,a,void 0);else for(var u=Rf(i),h=Pf(i),E=h.length,I=0;I<E;I++)a.call(void 0,h[I],u&&u[I],i)}var vc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cf(i,a){if(i){i=i.split("&");for(var u=0;u<i.length;u++){var h=i[u].indexOf("="),E=null;if(0<=h){var I=i[u].substring(0,h);E=i[u].substring(h+1)}else I=i[u];a(I,E?decodeURIComponent(E.replace(/\+/g," ")):"")}}}function Dt(i){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,i instanceof Dt){this.h=i.h,Ar(this,i.j),this.o=i.o,this.g=i.g,br(this,i.s),this.l=i.l;var a=i.i,u=new On;u.i=a.i,a.g&&(u.g=new Map(a.g),u.h=a.h),Ec(this,u),this.m=i.m}else i&&(a=String(i).match(vc))?(this.h=!1,Ar(this,a[1]||"",!0),this.o=Dn(a[2]||""),this.g=Dn(a[3]||"",!0),br(this,a[4]),this.l=Dn(a[5]||"",!0),Ec(this,a[6]||"",!0),this.m=Dn(a[7]||"")):(this.h=!1,this.i=new On(null,this.h))}Dt.prototype.toString=function(){var i=[],a=this.j;a&&i.push(Nn(a,wc,!0),":");var u=this.g;return(u||a=="file")&&(i.push("//"),(a=this.o)&&i.push(Nn(a,wc,!0),"@"),i.push(encodeURIComponent(String(u)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u=this.s,u!=null&&i.push(":",String(u))),(u=this.l)&&(this.g&&u.charAt(0)!="/"&&i.push("/"),i.push(Nn(u,u.charAt(0)=="/"?Nf:Df,!0))),(u=this.i.toString())&&i.push("?",u),(u=this.m)&&i.push("#",Nn(u,Vf)),i.join("")};function Ye(i){return new Dt(i)}function Ar(i,a,u){i.j=u?Dn(a,!0):a,i.j&&(i.j=i.j.replace(/:$/,""))}function br(i,a){if(a){if(a=Number(a),isNaN(a)||0>a)throw Error("Bad port number "+a);i.s=a}else i.s=null}function Ec(i,a,u){a instanceof On?(i.i=a,xf(i.i,i.h)):(u||(a=Nn(a,Of)),i.i=new On(a,i.h))}function X(i,a,u){i.i.set(a,u)}function Sr(i){return X(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Dn(i,a){return i?a?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Nn(i,a,u){return typeof i=="string"?(i=encodeURI(i).replace(a,kf),u&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function kf(i){return i=i.charCodeAt(0),"%"+(i>>4&15).toString(16)+(i&15).toString(16)}var wc=/[#\/\?@]/g,Df=/[#\?:]/g,Nf=/[#\?]/g,Of=/[#\?@]/g,Vf=/#/g;function On(i,a){this.h=this.g=null,this.i=i||null,this.j=!!a}function dt(i){i.g||(i.g=new Map,i.h=0,i.i&&Cf(i.i,function(a,u){i.add(decodeURIComponent(a.replace(/\+/g," ")),u)}))}n=On.prototype,n.add=function(i,a){dt(this),this.i=null,i=Xt(this,i);var u=this.g.get(i);return u||this.g.set(i,u=[]),u.push(a),this.h+=1,this};function Tc(i,a){dt(i),a=Xt(i,a),i.g.has(a)&&(i.i=null,i.h-=i.g.get(a).length,i.g.delete(a))}function Ic(i,a){return dt(i),a=Xt(i,a),i.g.has(a)}n.forEach=function(i,a){dt(this),this.g.forEach(function(u,h){u.forEach(function(E){i.call(a,E,h,this)},this)},this)},n.na=function(){dt(this);let i=Array.from(this.g.values()),a=Array.from(this.g.keys()),u=[];for(let h=0;h<a.length;h++){let E=i[h];for(let I=0;I<E.length;I++)u.push(a[h])}return u},n.V=function(i){dt(this);let a=[];if(typeof i=="string")Ic(this,i)&&(a=a.concat(this.g.get(Xt(this,i))));else{i=Array.from(this.g.values());for(let u=0;u<i.length;u++)a=a.concat(i[u])}return a},n.set=function(i,a){return dt(this),this.i=null,i=Xt(this,i),Ic(this,i)&&(this.h-=this.g.get(i).length),this.g.set(i,[a]),this.h+=1,this},n.get=function(i,a){return i?(i=this.V(i),0<i.length?String(i[0]):a):a};function Ac(i,a,u){Tc(i,a),0<u.length&&(i.i=null,i.g.set(Xt(i,a),k(u)),i.h+=u.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let i=[],a=Array.from(this.g.keys());for(var u=0;u<a.length;u++){var h=a[u];let I=encodeURIComponent(String(h)),C=this.V(h);for(h=0;h<C.length;h++){var E=I;C[h]!==""&&(E+="="+encodeURIComponent(String(C[h]))),i.push(E)}}return this.i=i.join("&")};function Xt(i,a){return a=String(a),i.j&&(a=a.toLowerCase()),a}function xf(i,a){a&&!i.j&&(dt(i),i.i=null,i.g.forEach(function(u,h){var E=h.toLowerCase();h!=E&&(Tc(this,h),Ac(this,E,u))},i)),i.j=a}function Mf(i,a){let u=new Cn;if(l.Image){let h=new Image;h.onload=R(ft,u,"TestLoadImage: loaded",!0,a,h),h.onerror=R(ft,u,"TestLoadImage: error",!1,a,h),h.onabort=R(ft,u,"TestLoadImage: abort",!1,a,h),h.ontimeout=R(ft,u,"TestLoadImage: timeout",!1,a,h),l.setTimeout(function(){h.ontimeout&&h.ontimeout()},1e4),h.src=i}else a(!1)}function Lf(i,a){let u=new Cn,h=new AbortController,E=setTimeout(()=>{h.abort(),ft(u,"TestPingServer: timeout",!1,a)},1e4);fetch(i,{signal:h.signal}).then(I=>{clearTimeout(E),I.ok?ft(u,"TestPingServer: ok",!0,a):ft(u,"TestPingServer: server error",!1,a)}).catch(()=>{clearTimeout(E),ft(u,"TestPingServer: error",!1,a)})}function ft(i,a,u,h,E){try{E&&(E.onload=null,E.onerror=null,E.onabort=null,E.ontimeout=null),h(u)}catch{}}function Ff(){this.g=new Ef}function Uf(i,a,u){let h=u||"";try{yc(i,function(E,I){let C=E;f(E)&&(C=rs(E)),a.push(h+I+"="+encodeURIComponent(C))})}catch(E){throw a.push(h+"type="+encodeURIComponent("_badmap")),E}}function Vn(i){this.l=i.Ub||null,this.j=i.eb||!1}P(Vn,is),Vn.prototype.g=function(){return new Pr(this.l,this.j)},Vn.prototype.i=(function(i){return function(){return i}})({});function Pr(i,a){ue.call(this),this.D=i,this.o=a,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(Pr,ue),n=Pr.prototype,n.open=function(i,a){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=i,this.A=a,this.readyState=1,Mn(this)},n.send=function(i){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let a={headers:this.u,method:this.B,credentials:this.m,cache:void 0};i&&(a.body=i),(this.D||l).fetch(new Request(this.A,a)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xn(this)),this.readyState=0},n.Sa=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Mn(this)),this.g&&(this.readyState=3,Mn(this),this.g)))if(this.responseType==="arraybuffer")i.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;bc(this)}else i.text().then(this.Ra.bind(this),this.ga.bind(this))};function bc(i){i.j.read().then(i.Pa.bind(i)).catch(i.ga.bind(i))}n.Pa=function(i){if(this.g){if(this.o&&i.value)this.response.push(i.value);else if(!this.o){var a=i.value?i.value:new Uint8Array(0);(a=this.v.decode(a,{stream:!i.done}))&&(this.response=this.responseText+=a)}i.done?xn(this):Mn(this),this.readyState==3&&bc(this)}},n.Ra=function(i){this.g&&(this.response=this.responseText=i,xn(this))},n.Qa=function(i){this.g&&(this.response=i,xn(this))},n.ga=function(){this.g&&xn(this)};function xn(i){i.readyState=4,i.l=null,i.j=null,i.v=null,Mn(i)}n.setRequestHeader=function(i,a){this.u.append(i,a)},n.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let i=[],a=this.h.entries();for(var u=a.next();!u.done;)u=u.value,i.push(u[0]+": "+u[1]),u=a.next();return i.join(`\r
`)};function Mn(i){i.onreadystatechange&&i.onreadystatechange.call(i)}Object.defineProperty(Pr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(i){this.m=i?"include":"same-origin"}});function Sc(i){let a="";return Q(i,function(u,h){a+=h,a+=":",a+=u,a+=`\r
`}),a}function ps(i,a,u){e:{for(h in u){var h=!1;break e}h=!0}h||(u=Sc(u),typeof i=="string"?u!=null&&encodeURIComponent(String(u)):X(i,a,u))}function ne(i){ue.call(this),this.headers=new Map,this.o=i||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(ne,ue);var Bf=/^https?$/i,qf=["POST","PUT"];n=ne.prototype,n.Ha=function(i){this.J=i},n.ea=function(i,a,u,h){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+i);a=a?a.toUpperCase():"GET",this.D=i,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():as.g(),this.v=this.o?tc(this.o):tc(as),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(a,String(i),!0),this.B=!1}catch(I){Pc(this,I);return}if(i=u||"",u=new Map(this.headers),h)if(Object.getPrototypeOf(h)===Object.prototype)for(var E in h)u.set(E,h[E]);else if(typeof h.keys=="function"&&typeof h.get=="function")for(let I of h.keys())u.set(I,h.get(I));else throw Error("Unknown input type for opt_headers: "+String(h));h=Array.from(u.keys()).find(I=>I.toLowerCase()=="content-type"),E=l.FormData&&i instanceof l.FormData,!(0<=Array.prototype.indexOf.call(qf,a,void 0))||h||E||u.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[I,C]of u)this.g.setRequestHeader(I,C);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{kc(this),this.u=!0,this.g.send(i),this.u=!1}catch(I){Pc(this,I)}};function Pc(i,a){i.h=!1,i.g&&(i.j=!0,i.g.abort(),i.j=!1),i.l=a,i.m=5,Rc(i),Rr(i)}function Rc(i){i.A||(i.A=!0,de(i,"complete"),de(i,"error"))}n.abort=function(i){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=i||7,de(this,"complete"),de(this,"abort"),Rr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Rr(this,!0)),ne.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Cc(this):this.bb())},n.bb=function(){Cc(this)};function Cc(i){if(i.h&&typeof c<"u"&&(!i.v[1]||Je(i)!=4||i.Z()!=2)){if(i.u&&Je(i)==4)Ja(i.Ea,0,i);else if(de(i,"readystatechange"),Je(i)==4){i.h=!1;try{let C=i.Z();e:switch(C){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var a=!0;break e;default:a=!1}var u;if(!(u=a)){var h;if(h=C===0){var E=String(i.D).match(vc)[1]||null;!E&&l.self&&l.self.location&&(E=l.self.location.protocol.slice(0,-1)),h=!Bf.test(E?E.toLowerCase():"")}u=h}if(u)de(i,"complete"),de(i,"success");else{i.m=6;try{var I=2<Je(i)?i.g.statusText:""}catch{I=""}i.l=I+" ["+i.Z()+"]",Rc(i)}}finally{Rr(i)}}}}function Rr(i,a){if(i.g){kc(i);let u=i.g,h=i.v[0]?()=>{}:null;i.g=null,i.v=null,a||de(i,"ready");try{u.onreadystatechange=h}catch{}}}function kc(i){i.I&&(l.clearTimeout(i.I),i.I=null)}n.isActive=function(){return!!this.g};function Je(i){return i.g?i.g.readyState:0}n.Z=function(){try{return 2<Je(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(i){if(this.g){var a=this.g.responseText;return i&&a.indexOf(i)==0&&(a=a.substring(i.length)),vf(a)}};function Dc(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.H){case"":case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function $f(i){let a={};i=(i.g&&2<=Je(i)&&i.g.getAllResponseHeaders()||"").split(`\r
`);for(let h=0;h<i.length;h++){if(L(i[h]))continue;var u=v(i[h]);let E=u[0];if(u=u[1],typeof u!="string")continue;u=u.trim();let I=a[E]||[];a[E]=I,I.push(u)}y(a,function(h){return h.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ln(i,a,u){return u&&u.internalChannelParams&&u.internalChannelParams[i]||a}function Nc(i){this.Aa=0,this.i=[],this.j=new Cn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ln("failFast",!1,i),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ln("baseRetryDelayMs",5e3,i),this.cb=Ln("retryDelaySeedMs",1e4,i),this.Wa=Ln("forwardChannelMaxRetries",2,i),this.wa=Ln("forwardChannelRequestTimeoutMs",2e4,i),this.pa=i&&i.xmlHttpFactory||void 0,this.Xa=i&&i.Tb||void 0,this.Ca=i&&i.useFetchStreams||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.h=new fc(i&&i.concurrentRequestLimit),this.Da=new Ff,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=i&&i.Rb||!1,i&&i.xa&&this.j.xa(),i&&i.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&i&&i.detectBufferingProxy||!1,this.ja=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.ja=i.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Nc.prototype,n.la=8,n.G=1,n.connect=function(i,a,u,h){fe(0),this.W=i,this.H=a||{},u&&h!==void 0&&(this.H.OSID=u,this.H.OAID=h),this.F=this.X,this.I=qc(this,null,this.W),kr(this)};function ms(i){if(Oc(i),i.G==3){var a=i.U++,u=Ye(i.I);if(X(u,"SID",i.K),X(u,"RID",a),X(u,"TYPE","terminate"),Fn(i,u),a=new ht(i,i.j,a),a.L=2,a.v=Sr(Ye(u)),u=!1,l.navigator&&l.navigator.sendBeacon)try{u=l.navigator.sendBeacon(a.v.toString(),"")}catch{}!u&&l.Image&&(new Image().src=a.v,u=!0),u||(a.g=$c(a.j,null),a.g.ea(a.v)),a.F=Date.now(),Ir(a)}Bc(i)}function Cr(i){i.g&&(_s(i),i.g.cancel(),i.g=null)}function Oc(i){Cr(i),i.u&&(l.clearTimeout(i.u),i.u=null),Dr(i),i.h.cancel(),i.s&&(typeof i.s=="number"&&l.clearTimeout(i.s),i.s=null)}function kr(i){if(!pc(i.h)&&!i.s){i.s=!0;var a=i.Ga;N||ie(),O||(N(),O=!0),F.add(a,i),i.B=0}}function jf(i,a){return mc(i.h)>=i.h.j-(i.s?1:0)?!1:i.s?(i.i=a.D.concat(i.i),!0):i.G==1||i.G==2||i.B>=(i.Va?0:i.Wa)?!1:(i.s=Rn(b(i.Ga,i,a),Uc(i,i.B)),i.B++,!0)}n.Ga=function(i){if(this.s)if(this.s=null,this.G==1){if(!i){this.U=Math.floor(1e5*Math.random()),i=this.U++;let E=new ht(this,this.j,i),I=this.o;if(this.S&&(I?(I=p(I),_(I,this.S)):I=this.S),this.m!==null||this.O||(E.H=I,I=null),this.P)e:{for(var a=0,u=0;u<this.i.length;u++){t:{var h=this.i[u];if("__data__"in h.map&&(h=h.map.__data__,typeof h=="string")){h=h.length;break t}h=void 0}if(h===void 0)break;if(a+=h,4096<a){a=u;break e}if(a===4096||u===this.i.length-1){a=u+1;break e}}a=1e3}else a=1e3;a=xc(this,E,a),u=Ye(this.I),X(u,"RID",i),X(u,"CVER",22),this.D&&X(u,"X-HTTP-Session-Id",this.D),Fn(this,u),I&&(this.O?a="headers="+encodeURIComponent(String(Sc(I)))+"&"+a:this.m&&ps(u,this.m,I)),fs(this.h,E),this.Ua&&X(u,"TYPE","init"),this.P?(X(u,"$req",a),X(u,"SID","null"),E.T=!0,us(E,u,null)):us(E,u,a),this.G=2}}else this.G==3&&(i?Vc(this,i):this.i.length==0||pc(this.h)||Vc(this))};function Vc(i,a){var u;a?u=a.l:u=i.U++;let h=Ye(i.I);X(h,"SID",i.K),X(h,"RID",u),X(h,"AID",i.T),Fn(i,h),i.m&&i.o&&ps(h,i.m,i.o),u=new ht(i,i.j,u,i.B+1),i.m===null&&(u.H=i.o),a&&(i.i=a.D.concat(i.i)),a=xc(i,u,1e3),u.I=Math.round(.5*i.wa)+Math.round(.5*i.wa*Math.random()),fs(i.h,u),us(u,h,a)}function Fn(i,a){i.H&&Q(i.H,function(u,h){X(a,h,u)}),i.l&&yc({},function(u,h){X(a,h,u)})}function xc(i,a,u){u=Math.min(i.i.length,u);var h=i.l?b(i.l.Na,i.l,i):null;e:{var E=i.i;let I=-1;for(;;){let C=["count="+u];I==-1?0<u?(I=E[0].g,C.push("ofs="+I)):I=0:C.push("ofs="+I);let H=!0;for(let oe=0;oe<u;oe++){let K=E[oe].g,le=E[oe].map;if(K-=I,0>K)I=Math.max(0,E[oe].g-100),H=!1;else try{Uf(le,C,"req"+K+"_")}catch{h&&h(le)}}if(H){h=C.join("&");break e}}}return i=i.i.splice(0,u),a.D=i,h}function Mc(i){if(!i.g&&!i.u){i.Y=1;var a=i.Fa;N||ie(),O||(N(),O=!0),F.add(a,i),i.v=0}}function gs(i){return i.g||i.u||3<=i.v?!1:(i.Y++,i.u=Rn(b(i.Fa,i),Uc(i,i.v)),i.v++,!0)}n.Fa=function(){if(this.u=null,Lc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var i=2*this.R;this.j.info("BP detection timer enabled: "+i),this.A=Rn(b(this.ab,this),i)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,fe(10),Cr(this),Lc(this))};function _s(i){i.A!=null&&(l.clearTimeout(i.A),i.A=null)}function Lc(i){i.g=new ht(i,i.j,"rpc",i.Y),i.m===null&&(i.g.H=i.o),i.g.O=0;var a=Ye(i.qa);X(a,"RID","rpc"),X(a,"SID",i.K),X(a,"AID",i.T),X(a,"CI",i.F?"0":"1"),!i.F&&i.ja&&X(a,"TO",i.ja),X(a,"TYPE","xmlhttp"),Fn(i,a),i.m&&i.o&&ps(a,i.m,i.o),i.L&&(i.g.I=i.L);var u=i.g;i=i.ia,u.L=1,u.v=Sr(Ye(a)),u.m=null,u.P=!0,lc(u,i)}n.Za=function(){this.C!=null&&(this.C=null,Cr(this),gs(this),fe(19))};function Dr(i){i.C!=null&&(l.clearTimeout(i.C),i.C=null)}function Fc(i,a){var u=null;if(i.g==a){Dr(i),_s(i),i.g=null;var h=2}else if(ds(i.h,a))u=a.D,gc(i.h,a),h=1;else return;if(i.G!=0){if(a.o)if(h==1){u=a.m?a.m.length:0,a=Date.now()-a.F;var E=i.B;h=Er(),de(h,new oc(h,u)),kr(i)}else Mc(i);else if(E=a.s,E==3||E==0&&0<a.X||!(h==1&&jf(i,a)||h==2&&gs(i)))switch(u&&0<u.length&&(a=i.h,a.i=a.i.concat(u)),E){case 1:Nt(i,5);break;case 4:Nt(i,10);break;case 3:Nt(i,6);break;default:Nt(i,2)}}}function Uc(i,a){let u=i.Ta+Math.floor(Math.random()*i.cb);return i.isActive()||(u*=2),u*a}function Nt(i,a){if(i.j.info("Error code "+a),a==2){var u=b(i.fb,i),h=i.Xa;let E=!h;h=new Dt(h||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Ar(h,"https"),Sr(h),E?Mf(h.toString(),u):Lf(h.toString(),u)}else fe(2);i.G=0,i.l&&i.l.sa(a),Bc(i),Oc(i)}n.fb=function(i){i?(this.j.info("Successfully pinged google.com"),fe(2)):(this.j.info("Failed to ping google.com"),fe(1))};function Bc(i){if(i.G=0,i.ka=[],i.l){let a=_c(i.h);(a.length!=0||i.i.length!=0)&&(V(i.ka,a),V(i.ka,i.i),i.h.i.length=0,k(i.i),i.i.length=0),i.l.ra()}}function qc(i,a,u){var h=u instanceof Dt?Ye(u):new Dt(u);if(h.g!="")a&&(h.g=a+"."+h.g),br(h,h.s);else{var E=l.location;h=E.protocol,a=a?a+"."+E.hostname:E.hostname,E=+E.port;var I=new Dt(null);h&&Ar(I,h),a&&(I.g=a),E&&br(I,E),u&&(I.l=u),h=I}return u=i.D,a=i.ya,u&&a&&X(h,u,a),X(h,"VER",i.la),Fn(i,h),h}function $c(i,a,u){if(a&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return a=i.Ca&&!i.pa?new ne(new Vn({eb:u})):new ne(i.pa),a.Ha(i.J),a}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function jc(){}n=jc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Nr(){}Nr.prototype.g=function(i,a){return new Te(i,a)};function Te(i,a){ue.call(this),this.g=new Nc(a),this.l=i,this.h=a&&a.messageUrlParams||null,i=a&&a.messageHeaders||null,a&&a.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.o=i,i=a&&a.initMessageHeaders||null,a&&a.messageContentType&&(i?i["X-WebChannel-Content-Type"]=a.messageContentType:i={"X-WebChannel-Content-Type":a.messageContentType}),a&&a.va&&(i?i["X-WebChannel-Client-Profile"]=a.va:i={"X-WebChannel-Client-Profile":a.va}),this.g.S=i,(i=a&&a.Sb)&&!L(i)&&(this.g.m=i),this.v=a&&a.supportsCrossDomainXhr||!1,this.u=a&&a.sendRawJson||!1,(a=a&&a.httpSessionIdParam)&&!L(a)&&(this.g.D=a,i=this.h,i!==null&&a in i&&(i=this.h,a in i&&delete i[a])),this.j=new Zt(this)}P(Te,ue),Te.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Te.prototype.close=function(){ms(this.g)},Te.prototype.o=function(i){var a=this.g;if(typeof i=="string"){var u={};u.__data__=i,i=u}else this.u&&(u={},u.__data__=rs(i),i=u);a.i.push(new Sf(a.Ya++,i)),a.G==3&&kr(a)},Te.prototype.N=function(){this.g.l=null,delete this.j,ms(this.g),delete this.g,Te.aa.N.call(this)};function zc(i){ss.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var a=i.__sm__;if(a){e:{for(let u in a){i=u;break e}i=void 0}(this.i=i)&&(i=this.i,a=a!==null&&i in a?a[i]:void 0),this.data=a}else this.data=i}P(zc,ss);function Kc(){os.call(this),this.status=1}P(Kc,os);function Zt(i){this.g=i}P(Zt,jc),Zt.prototype.ua=function(){de(this.g,"a")},Zt.prototype.ta=function(i){de(this.g,new zc(i))},Zt.prototype.sa=function(i){de(this.g,new Kc)},Zt.prototype.ra=function(){de(this.g,"b")},Nr.prototype.createWebChannel=Nr.prototype.g,Te.prototype.send=Te.prototype.o,Te.prototype.open=Te.prototype.m,Te.prototype.close=Te.prototype.close,Pd=st.createWebChannelTransport=function(){return new Nr},Sd=st.getStatEventTarget=function(){return Er()},bd=st.Event=Ct,Ad=st.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},wr.NO_ERROR=0,wr.TIMEOUT=8,wr.HTTP_ERROR=6,Id=st.ErrorCode=wr,ac.COMPLETE="complete",Td=st.EventType=ac,nc.EventType=Sn,Sn.OPEN="a",Sn.CLOSE="b",Sn.ERROR="c",Sn.MESSAGE="d",ue.prototype.listen=ue.prototype.K,wd=st.WebChannel=nc,Tv=st.FetchXmlHttpFactory=Vn,ne.prototype.listenOnce=ne.prototype.L,ne.prototype.getLastError=ne.prototype.Ka,ne.prototype.getLastErrorCode=ne.prototype.Ba,ne.prototype.getStatus=ne.prototype.Z,ne.prototype.getResponseJson=ne.prototype.Oa,ne.prototype.getResponseText=ne.prototype.oa,ne.prototype.send=ne.prototype.ea,ne.prototype.setWithCredentials=ne.prototype.Ha,Ed=st.XhrIo=ne}).apply(typeof Mi<"u"?Mi:typeof self<"u"?self:typeof window<"u"?window:{});var Rd="@firebase/firestore",Cd="4.8.0";var ce=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ce.UNAUTHENTICATED=new ce(null),ce.GOOGLE_CREDENTIALS=new ce("google-credentials-uid"),ce.FIRST_PARTY=new ce("first-party-uid"),ce.MOCK_USER=new ce("mock-user");var gr="11.10.0";var In=new je("@firebase/firestore");function Ue(n,...e){if(In.logLevel<=G.DEBUG){let t=e.map(ja);In.debug(`Firestore (${gr}): ${n}`,...t)}}function $d(n,...e){if(In.logLevel<=G.ERROR){let t=e.map(ja);In.error(`Firestore (${gr}): ${n}`,...t)}}function Iv(n,...e){if(In.logLevel<=G.WARN){let t=e.map(ja);In.warn(`Firestore (${gr}): ${n}`,...t)}}function ja(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function we(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,jd(n,r,t)}function jd(n,e,t){let r=`FIRESTORE (${gr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw $d(r),new Error(r)}function Ht(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||jd(e,s,r)}var $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},B=class extends Ie{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Qt=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Li=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Aa=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ce.UNAUTHENTICATED))}shutdown(){}},ba=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},Sa=class{constructor(e){this.t=e,this.currentUser=ce.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ht(this.o===void 0,42304);let r=this.i,s=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve(),o=new Qt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Qt,e.enqueueRetryable(()=>s(this.currentUser))};let c=()=>{let d=o;e.enqueueRetryable(()=>T(this,null,function*(){yield d.promise,yield s(this.currentUser)}))},l=d=>{Ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(d=>l(d)),setTimeout(()=>{if(!this.auth){let d=this.t.getImmediate({optional:!0});d?l(d):(Ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Qt)}},0),c()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ht(typeof r.accessToken=="string",31837,{l:r}),new Li(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ht(e===null||typeof e=="string",2055,{h:e}),new ce(e)}},Pa=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=ce.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},Ra=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new Pa(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(ce.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Fi=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Ca=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ke(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ht(this.o===void 0,3512);let r=o=>{o.error!=null&&Ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let c=o.token!==this.m;return this.m=o.token,Ue("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let s=o=>{Ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?s(o):Ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Fi(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ht(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Fi(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function Av(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function bv(){return new TextEncoder}var ka=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let s=Av(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<t&&(r+=e.charAt(s[o]%62))}return r}};function De(n,e){return n<e?-1:n>e?1:0}function Sv(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),s=e.codePointAt(t);if(r!==s){if(r<128&&s<128)return De(r,s);{let o=bv(),c=Pv(o.encode(kd(n,t)),o.encode(kd(e,t)));return c!==0?c:De(r,s)}}t+=r>65535?2:1}return De(n.length,e.length)}function kd(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function Pv(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return De(n[t],e[t]);return De(n.length,e.length)}var Dd="__name__",Ui=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&we(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&we(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let s=0;s<r;s++){let o=n.compareSegments(e.get(s),t.get(s));if(o!==0)return o}return De(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),s=n.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?n.extractNumericId(e).compare(n.extractNumericId(t)):Sv(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xi.fromString(e.substring(4,e.length-2))}},ot=class n extends Ui{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new B($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new n(t)}static emptyPath(){return new n([])}},Rv=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Da=class n extends Ui{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return Rv.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Dd}static keyField(){return new n([Dd])}static fromServerFormat(e){let t=[],r="",s=0,o=()=>{if(r.length===0)throw new B($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},c=!1;for(;s<e.length;){let l=e[s];if(l==="\\"){if(s+1===e.length)throw new B($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new B($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,s+=2}else l==="`"?(c=!c,s++):l!=="."||c?(r+=l,s++):(o(),s++)}if(o(),c)throw new B($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var at=class n{constructor(e){this.path=e}static fromPath(e){return new n(ot.fromString(e))}static fromName(e){return new n(ot.fromString(e).popFirst(5))}static empty(){return new n(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ot.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new ot(e.slice()))}};function Cv(n,e,t,r){if(e===!0&&r===!0)throw new B($.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function kv(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Dv(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":we(12329,{type:typeof n})}function Nv(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new B($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Dv(n);throw new B($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function se(n,e){let t={typeString:n};return e&&(t.value=e),t}function _r(n,e){if(!kv(n))throw new B($.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let s=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let c=n[r];if(s&&typeof c!==s){t=`JSON field '${r}' must be a ${s}.`;break}if(o!==void 0&&c!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new B($.INVALID_ARGUMENT,t);return!0}var Nd=-62135596800,Od=1e6,lr=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Od);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new B($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new B($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Nd)throw new B($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new B($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Od}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(_r(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-Nd;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};lr._jsonSchemaVersion="firestore/timestamp/1.0",lr._jsonSchema={type:se("string",lr._jsonSchemaVersion),seconds:se("number"),nanoseconds:se("number")};var Na=class{constructor(e,t,r,s){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=s}};Na.UNKNOWN_ID=-1;function Ov(n){return n.name==="IndexedDbTransactionError"}function Vv(n){return n===0&&1/n==-1/0}var xv="remoteDocuments",zd="owner";var Kd="mutationQueues";var Wd="mutations";var Gd="documentMutations",Mv="remoteDocumentsV14";var Hd="remoteDocumentGlobal";var Qd="targets";var Yd="targetDocuments";var Jd="targetGlobal",Xd="collectionParents";var Zd="clientMetadata";var ef="bundles";var tf="namedQueries";var Lv="indexConfiguration";var Fv="indexState";var Uv="indexEntries";var nf="documentOverlays";var Bv="globals";var qv=[Kd,Wd,Gd,xv,Qd,zd,Jd,Yd,Zd,Hd,Xd,ef,tf],HI=[...qv,nf],$v=[Kd,Wd,Gd,Mv,Qd,zd,Jd,Yd,Zd,Hd,Xd,ef,tf,nf],jv=$v,zv=[...jv,Lv,Fv,Uv];var QI=[...zv,Bv];var An=class n{constructor(e,t){this.comparator=e,this.root=t||Ge.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vn(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vn(this.root,e,this.comparator,!1)}getReverseIterator(){return new vn(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vn(this.root,e,this.comparator,!0)}},vn=class{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Ge=class n{constructor(e,t,r,s,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=s??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,o){return new n(e??this.key,t??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this,o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,t,r),null):o===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return n.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}};Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,t,r,s,o){return this}insert(e,t,r){return new Ge(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Bi=class n{constructor(e){this.comparator=e,this.data=new An(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new qi(this.data.getIterator())}getIteratorFrom(e){return new qi(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let s=t.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},qi=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Oa=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Rt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Oa("Invalid base64 string: "+o):o}})(e);return new n(t)}static fromUint8Array(e){let t=(function(s){let o="";for(let c=0;c<s.length;++c)o+=String.fromCharCode(s[c]);return o})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Rt.EMPTY_BYTE_STRING=new Rt("");var Kv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wv(n){if(Ht(!!n,39018),typeof n=="string"){let e=0,t=Kv.exec(n);if(Ht(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:hr(n.seconds),nanos:hr(n.nanos)}}function hr(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Gv(n){return typeof n=="string"?Rt.fromBase64String(n):Rt.fromUint8Array(n)}var Va="(default)",xa=class n{constructor(e,t){this.projectId=e,this.database=t||Va}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===Va}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var rf="__type__",Hv="__max__";var sf="__vector__",of="value";function Qv(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[rf])===null||t===void 0?void 0:t.stringValue)===sf}function Yv(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Hv}var JI={mapValue:{fields:{[rf]:{stringValue:sf},[of]:{arrayValue:{}}}}};var Ma=class{constructor(e,t=null,r=[],s=[],o=null,c="F",l=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=c,this.startAt=l,this.endAt=d,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function Jv(n){return new Ma(n)}var XI=new An(at.comparator);var ZI=new An(at.comparator);var eA=new An(at.comparator),tA=new Bi(at.comparator);var nA=new Bi(De);var Vd,q;(q=Vd||(Vd={}))[q.OK=0]="OK",q[q.CANCELLED=1]="CANCELLED",q[q.UNKNOWN=2]="UNKNOWN",q[q.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",q[q.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",q[q.NOT_FOUND=5]="NOT_FOUND",q[q.ALREADY_EXISTS=6]="ALREADY_EXISTS",q[q.PERMISSION_DENIED=7]="PERMISSION_DENIED",q[q.UNAUTHENTICATED=16]="UNAUTHENTICATED",q[q.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",q[q.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",q[q.ABORTED=10]="ABORTED",q[q.OUT_OF_RANGE=11]="OUT_OF_RANGE",q[q.UNIMPLEMENTED=12]="UNIMPLEMENTED",q[q.INTERNAL=13]="INTERNAL",q[q.UNAVAILABLE=14]="UNAVAILABLE",q[q.DATA_LOSS=15]="DATA_LOSS";var rA=new xi([4294967295,4294967295],0);var $i=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(hr(e.integerValue));else if("doubleValue"in e){let r=hr(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),Vv(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=Wv(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(Gv(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?Yv(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):Qv(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):we(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let s of Object.keys(r))this.xt(s,t),this.Dt(r[s],t)}Lt(e,t){var r,s;let o=e.fields||{};this.Ct(t,53);let c=of,l=((s=(r=o[c].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.length)||0;this.Ct(t,15),t.Ft(hr(l)),this.xt(c,t),this.Dt(o[c],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let s of r)this.Dt(s,t)}Bt(e,t){this.Ct(t,37),at.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};$i.Ut=new $i;var iA=new Uint8Array(0);var af=41943040,We=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};We.DEFAULT_COLLECTION_PERCENTILE=10,We.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,We.DEFAULT=new We(af,We.DEFAULT_COLLECTION_PERCENTILE,We.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),We.DISABLED=new We(-1,0,0);var Xv=1048576;function Ia(){return typeof document<"u"?document:null}var La=class{constructor(e,t,r=1e3,s=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=s,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),s=Math.max(0,t-r);s>0&&Ue("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,s,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var Fa=class n{constructor(e,t,r,s,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new Qt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,o){let c=Date.now()+r,l=new n(e,t,c,s,o);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new B($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};var xd,Md;(Md=xd||(xd={})).Fa="default",Md.Cache="cache";function Zv(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var Ld=new Map;var cf="firestore.googleapis.com",Fd=!0,ji=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new B($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cf,this.ssl=Fd}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Fd;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=af;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Xv)throw new B($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Cv("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Zv((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new B($.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new B($.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new B($.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},zi=class{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ji({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new B($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new B($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ji(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Aa;switch(r.type){case"firstParty":return new Ra(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new B($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return T(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=Ld.get(t);r&&(Ue("ComponentProvider","Removing Datastore"),Ld.delete(t),r.terminate())})(this),Promise.resolve()}};function uf(n,e,t,r={}){var s;n=Nv(n,zi);let o=Ft(e),c=n._getSettings(),l=Object.assign(Object.assign({},c),{emulatorOptions:n._getEmulatorOptions()}),d=`${e}:${t}`;o&&(li(`https://${d}`),hi("Firestore",!0)),c.host!==cf&&c.host!==d&&Iv("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let f=Object.assign(Object.assign({},c),{host:d,ssl:o,emulatorOptions:r});if(!$e(f,l)&&(n._setSettings(f),r.mockUserToken)){let A,S;if(typeof r.mockUserToken=="string")A=r.mockUserToken,S=ce.MOCK_USER;else{A=zl(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);let b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new B($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new ce(b)}n._authCredentials=new ba(new Li(A,S))}}var Ua=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Yt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ba(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(_r(t,n._jsonSchema))return new n(e,r||null,new at(ot.fromString(t.referencePath)))}};Yt._jsonSchemaVersion="firestore/documentReference/1.0",Yt._jsonSchema={type:se("string",Yt._jsonSchemaVersion),referencePath:se("string")};var Ba=class n extends Ua{constructor(e,t,r){super(e,t,Jv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Yt(this.firestore,null,new at(e))}withConverter(e){return new n(this.firestore,e,this._path)}};var Ud="AsyncQueue",Ki=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new La(this,"async_queue_retry"),this.oc=()=>{let r=Ia();r&&Ue(Ud,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=Ia();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=Ia();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new Qt;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return T(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Ov(e))throw e;Ue(Ud,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,$d("INTERNAL UNHANDLED ERROR: ",Bd(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let s=Fa.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(s),s}ac(){this.tc&&we(47125,{hc:Bd(this.tc)})}verifyOperationInProgress(){}Pc(){return T(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function Bd(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}var qa=class extends zi{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new Ki,this._persistenceKey=s?.name||"[DEFAULT]"}_terminate(){return T(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Ki(e),this._firestoreClient=void 0,yield e}})}};function lf(n,e){let t=typeof n=="object"?n:Bt(),r=typeof n=="string"?n:e||Va,s=pn(t,"firestore").getImmediate({identifier:r});if(!s._initialized){let o=jl("firestore");o&&uf(s,...o)}return s}var dr=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Rt.fromBase64String(e))}catch(t){throw new B($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(_r(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};dr._jsonSchemaVersion="firestore/bytes/1.0",dr._jsonSchema={type:se("string",dr._jsonSchemaVersion),bytes:se("string")};var Wi=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new B($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Da(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var fr=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new B($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new B($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(_r(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};fr._jsonSchemaVersion="firestore/geoPoint/1.0",fr._jsonSchema={type:se("string",fr._jsonSchemaVersion),latitude:se("number"),longitude:se("number")};var pr=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(_r(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new B($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};pr._jsonSchemaVersion="firestore/vectorValue/1.0",pr._jsonSchema={type:se("string",pr._jsonSchemaVersion),vectorValues:se("object")};var eE=new RegExp("[~\\*/\\[\\]]");function tE(n,e,t){if(e.search(eE)>=0)throw qd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Wi(...e.split("."))._internalPath}catch{throw qd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function qd(n,e,t,r,s){let o=r&&!r.isEmpty(),c=s!==void 0,l=`Function ${e}() called with invalid data`;t&&(l+=" (via `toFirestore()`)"),l+=". ";let d="";return(o||c)&&(d+=" (found",o&&(d+=` in field ${r}`),c&&(d+=` in document ${s}`),d+=")"),new B($.INVALID_ARGUMENT,l+n+d)}var Gi=class{constructor(e,t,r,s,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new $a(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(hf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},$a=class extends Gi{data(){return super.data()}};function hf(n,e){return typeof e=="string"?tE(n,e):e instanceof Wi?e._internalPath:e._delegate._internalPath}var En=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},wn=class n extends Gi{constructor(e,t,r,s,o,c){super(e,t,r,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Tn(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(hf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new B($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};wn._jsonSchemaVersion="firestore/documentSnapshot/1.0",wn._jsonSchema={type:se("string",wn._jsonSchemaVersion),bundleSource:se("string","DocumentSnapshot"),bundleName:se("string"),bundle:se("string")};var Tn=class extends wn{data(e={}){return super.data(e)}},mr=class n{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new En(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Tn(this._firestore,this._userDataWriter,r.key,r,new En(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new B($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,o){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(l=>{let d=new Tn(s._firestore,s._userDataWriter,l.doc.key,l.doc,new En(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:d,oldIndex:-1,newIndex:c++}})}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>o||l.type!==3).map(l=>{let d=new Tn(s._firestore,s._userDataWriter,l.doc.key,l.doc,new En(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter),f=-1,A=-1;return l.type!==0&&(f=c.indexOf(l.doc.key),c=c.delete(l.doc.key)),l.type!==1&&(c=c.add(l.doc),A=c.indexOf(l.doc.key)),{type:nE(l.type),doc:d,oldIndex:f,newIndex:A}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new B($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ka.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],s=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function nE(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:n})}}mr._jsonSchemaVersion="firestore/querySnapshot/1.0",mr._jsonSchema={type:se("string",mr._jsonSchemaVersion),bundleSource:se("string","QuerySnapshot"),bundleName:se("string"),bundle:se("string")};(function(e,t=!0){(function(s){gr=s})(Et),Le(new pe("firestore",(r,{instanceIdentifier:s,options:o})=>{let c=r.getProvider("app").getImmediate(),l=new qa(new Sa(r.getProvider("auth-internal")),new Ca(c,r.getProvider("app-check-internal")),(function(f,A){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new B($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xa(f.options.projectId,A)})(c,s),c);return o=Object.assign({useFetchStreams:t},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),re(Rd,Cd,e),re(Rd,Cd,"esm2017")})();var yr=class{constructor(e){return e}},df="firestore",za=class{constructor(){return gn(df)}};var Ka=new on("angularfire2.firestore-instances");function rE(n,e){let t=Zn(df,n,e);return t&&new yr(t)}function iE(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new yr(r)}}var sE={provide:za,deps:[[new Se,Ka]]},oE={provide:yr,useFactory:rE,deps:[[new Se,Ka],nt]};function ff(n,...e){return re("angularfire",wt.full,"fst"),an([oE,sE,{provide:Ka,useFactory:iE(n),multi:!0,deps:[Pe,cn,Tt,jt,[new Se,ur],[new Se,_n],...e]}])}var pf=$t(lf,!0);var mf={providers:[Su(Bu,Pu()),Iu(),Fl(),mh(()=>gh(Ou.firebase)),md(()=>gd()),ff(()=>pf())]};Tu(qr,mf).catch(n=>console.error(n));
